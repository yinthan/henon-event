{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _react = require(\"react\");\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\nvar _interactjs = _interopRequireDefault(require(\"interactjs\"));\nvar _moment = _interopRequireDefault(require(\"moment\"));\nvar _generic = require(\"../utility/generic\");\nvar _events = require(\"../utility/events\");\nvar _defaultItemRenderer = require(\"./defaultItemRenderer\");\nvar _calendar = require(\"../utility/calendar\");\nvar _domHelpers = require(\"../utility/dom-helpers\");\nvar _styles = require(\"./styles\");\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n  return _typeof(obj);\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n  return _assertThisInitialized(self);\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nvar Item = /*#__PURE__*/\nfunction (_Component) {\n  _inherits(Item, _Component);\n\n  // removed prop type check for SPEED!\n  // they are coming from a trusted component anyway\n  // (this complicates performance debugging otherwise)\n  function Item(_props) {\n    var _this;\n    _classCallCheck(this, Item);\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Item).call(this, _props));\n    _defineProperty(_assertThisInitialized(_this), \"onMouseDown\", function (e) {\n      if (!_this.state.interactMounted) {\n        e.preventDefault();\n        _this.startedClicking = true;\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseUp\", function (e) {\n      if (!_this.state.interactMounted && _this.startedClicking) {\n        _this.startedClicking = false;\n        _this.actualClick(e, 'click');\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onTouchStart\", function (e) {\n      if (!_this.state.interactMounted) {\n        e.preventDefault();\n        _this.startedTouching = true;\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onTouchEnd\", function (e) {\n      if (!_this.state.interactMounted && _this.startedTouching) {\n        _this.startedTouching = false;\n        _this.actualClick(e, 'touch');\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleDoubleClick\", function (e) {\n      e.stopPropagation();\n      if (_this.props.onItemDoubleClick) {\n        _this.props.onItemDoubleClick(_this.itemId, e);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleContextMenu\", function (e) {\n      if (_this.props.onContextMenu) {\n        e.preventDefault();\n        e.stopPropagation();\n        _this.props.onContextMenu(_this.itemId, e);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"getItemRef\", function (el) {\n      return _this.item = el;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"getDragLeftRef\", function (el) {\n      return _this.dragLeft = el;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"getDragRightRef\", function (el) {\n      return _this.dragRight = el;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"getItemProps\", function () {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      //TODO: maybe shouldnt include all of these classes\n      var classNames = 'rct-item' + (_this.props.item.className ? \" \".concat(_this.props.item.className) : '');\n      return {\n        key: _this.itemId,\n        ref: _this.getItemRef,\n        title: _this.itemDivTitle,\n        className: classNames + \" \".concat(props.className ? props.className : ''),\n        onMouseDown: (0, _events.composeEvents)(_this.onMouseDown, props.onMouseDown),\n        onMouseUp: (0, _events.composeEvents)(_this.onMouseUp, props.onMouseUp),\n        onTouchStart: (0, _events.composeEvents)(_this.onTouchStart, props.onTouchStart),\n        onTouchEnd: (0, _events.composeEvents)(_this.onTouchEnd, props.onTouchEnd),\n        onDoubleClick: (0, _events.composeEvents)(_this.handleDoubleClick, props.onDoubleClick),\n        onContextMenu: (0, _events.composeEvents)(_this.handleContextMenu, props.onContextMenu),\n        style: Object.assign({}, _this.getItemStyle(props))\n      };\n    });\n    _defineProperty(_assertThisInitialized(_this), \"getResizeProps\", function () {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var leftName = \"rct-item-handler rct-item-handler-left rct-item-handler-resize-left\";\n      if (props.leftClassName) {\n        leftName += \" \".concat(props.leftClassName);\n      }\n      var rightName = \"rct-item-handler rct-item-handler-right rct-item-handler-resize-right\";\n      if (props.rightClassName) {\n        rightName += \" \".concat(props.rightClassName);\n      }\n      return {\n        left: {\n          ref: _this.getDragLeftRef,\n          className: leftName,\n          style: Object.assign({}, _styles.leftResizeStyle, props.leftStyle)\n        },\n        right: {\n          ref: _this.getDragRightRef,\n          className: rightName,\n          style: Object.assign({}, _styles.rightResizeStyle, props.rightStyle)\n        }\n      };\n    });\n    _this.cacheDataFromProps(_props);\n    _this.state = {\n      interactMounted: false,\n      dragging: null,\n      dragStart: null,\n      preDragPosition: null,\n      dragTime: null,\n      dragGroupDelta: null,\n      resizing: null,\n      resizeEdge: null,\n      resizeStart: null,\n      resizeTime: null\n    };\n    return _this;\n  }\n  _createClass(Item, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      var shouldUpdate = nextState.dragging !== this.state.dragging || nextState.dragTime !== this.state.dragTime || nextState.dragGroupDelta !== this.state.dragGroupDelta || nextState.resizing !== this.state.resizing || nextState.resizeTime !== this.state.resizeTime || nextProps.keys !== this.props.keys || !(0, _generic.deepObjectCompare)(nextProps.itemProps, this.props.itemProps) || nextProps.selected !== this.props.selected || nextProps.item !== this.props.item || nextProps.canvasTimeStart !== this.props.canvasTimeStart || nextProps.canvasTimeEnd !== this.props.canvasTimeEnd || nextProps.canvasWidth !== this.props.canvasWidth || (nextProps.order ? nextProps.order.index : undefined) !== (this.props.order ? this.props.order.index : undefined) || nextProps.dragSnap !== this.props.dragSnap || nextProps.minResizeWidth !== this.props.minResizeWidth || nextProps.canChangeGroup !== this.props.canChangeGroup || nextProps.canSelect !== this.props.canSelect || nextProps.canMove !== this.props.canMove || nextProps.canResizeLeft !== this.props.canResizeLeft || nextProps.canResizeRight !== this.props.canResizeRight || nextProps.dimensions !== this.props.dimensions;\n      return shouldUpdate;\n    }\n  }, {\n    key: \"cacheDataFromProps\",\n    value: function cacheDataFromProps(props) {\n      this.itemId = (0, _generic._get)(props.item, props.keys.itemIdKey);\n      this.itemTitle = (0, _generic._get)(props.item, props.keys.itemTitleKey);\n      this.itemDivTitle = props.keys.itemDivTitleKey ? (0, _generic._get)(props.item, props.keys.itemDivTitleKey) : this.itemTitle;\n      this.itemTimeStart = (0, _generic._get)(props.item, props.keys.itemTimeStartKey);\n      this.itemTimeEnd = (0, _generic._get)(props.item, props.keys.itemTimeEndKey);\n    }\n  }, {\n    key: \"getTimeRatio\",\n    value: function getTimeRatio() {\n      var _this$props = this.props,\n        canvasTimeStart = _this$props.canvasTimeStart,\n        canvasTimeEnd = _this$props.canvasTimeEnd,\n        canvasWidth = _this$props.canvasWidth;\n      return (0, _calendar.coordinateToTimeRatio)(canvasTimeStart, canvasTimeEnd, canvasWidth);\n    }\n  }, {\n    key: \"dragTimeSnap\",\n    value: function dragTimeSnap(dragTime, considerOffset) {\n      var dragSnap = this.props.dragSnap;\n      if (dragSnap) {\n        var offset = considerOffset ? (0, _moment[\"default\"])().utcOffset() * 60 * 1000 : 0;\n        return Math.round(dragTime / dragSnap) * dragSnap - offset % dragSnap;\n      } else {\n        return dragTime;\n      }\n    }\n  }, {\n    key: \"resizeTimeSnap\",\n    value: function resizeTimeSnap(dragTime) {\n      var dragSnap = this.props.dragSnap;\n      if (dragSnap) {\n        var endTime = this.itemTimeEnd % dragSnap;\n        return Math.round((dragTime - endTime) / dragSnap) * dragSnap + endTime;\n      } else {\n        return dragTime;\n      }\n    }\n  }, {\n    key: \"dragTime\",\n    value: function dragTime(e) {\n      var startTime = (0, _moment[\"default\"])(this.itemTimeStart);\n      if (this.state.dragging) {\n        return this.dragTimeSnap(this.timeFor(e) + this.state.dragStart.offset, true);\n      } else {\n        return startTime;\n      }\n    }\n  }, {\n    key: \"timeFor\",\n    value: function timeFor(e) {\n      var ratio = (0, _calendar.coordinateToTimeRatio)(this.props.canvasTimeStart, this.props.canvasTimeEnd, this.props.canvasWidth);\n      var offset = (0, _domHelpers.getSumOffset)(this.props.scrollRef).offsetLeft;\n      var scrolls = (0, _domHelpers.getSumScroll)(this.props.scrollRef);\n      return (e.pageX - offset + scrolls.scrollLeft) * ratio + this.props.canvasTimeStart;\n    }\n  }, {\n    key: \"dragGroupDelta\",\n    value: function dragGroupDelta(e) {\n      var _this$props2 = this.props,\n        groupTops = _this$props2.groupTops,\n        order = _this$props2.order;\n      if (this.state.dragging) {\n        if (!this.props.canChangeGroup) {\n          return 0;\n        }\n        var groupDelta = 0;\n        var offset = (0, _domHelpers.getSumOffset)(this.props.scrollRef).offsetTop;\n        var scrolls = (0, _domHelpers.getSumScroll)(this.props.scrollRef);\n        for (var _i = 0, _Object$keys = Object.keys(groupTops); _i < _Object$keys.length; _i++) {\n          var key = _Object$keys[_i];\n          var groupTop = groupTops[key];\n          if (e.pageY - offset + scrolls.scrollTop > groupTop) {\n            groupDelta = parseInt(key, 10) - order.index;\n          } else {\n            break;\n          }\n        }\n        if (this.props.order.index + groupDelta < 0) {\n          return 0 - this.props.order.index;\n        } else {\n          return groupDelta;\n        }\n      } else {\n        return 0;\n      }\n    }\n  }, {\n    key: \"resizeTimeDelta\",\n    value: function resizeTimeDelta(e, resizeEdge) {\n      var length = this.itemTimeEnd - this.itemTimeStart;\n      var timeDelta = this.dragTimeSnap((e.pageX - this.state.resizeStart) * this.getTimeRatio());\n      if (length + (resizeEdge === 'left' ? -timeDelta : timeDelta) < (this.props.dragSnap || 1000)) {\n        if (resizeEdge === 'left') {\n          return length - (this.props.dragSnap || 1000);\n        } else {\n          return (this.props.dragSnap || 1000) - length;\n        }\n      } else {\n        return timeDelta;\n      }\n    }\n  }, {\n    key: \"mountInteract\",\n    value: function mountInteract() {\n      var _this2 = this;\n      var leftResize = this.props.useResizeHandle ? \".rct-item-handler-resize-left\" : true;\n      var rightResize = this.props.useResizeHandle ? \".rct-item-handler-resize-right\" : true;\n      (0, _interactjs[\"default\"])(this.item).resizable({\n        edges: {\n          left: this.canResizeLeft() && leftResize,\n          right: this.canResizeRight() && rightResize,\n          top: false,\n          bottom: false\n        },\n        enabled: this.props.selected && (this.canResizeLeft() || this.canResizeRight())\n      }).draggable({\n        enabled: this.props.selected && this.canMove()\n      }).styleCursor(false).on('dragstart', function (e) {\n        if (_this2.props.selected) {\n          var clickTime = _this2.timeFor(e);\n          _this2.setState({\n            dragging: true,\n            dragStart: {\n              x: e.pageX,\n              y: e.pageY,\n              offset: _this2.itemTimeStart - clickTime\n            },\n            preDragPosition: {\n              x: e.target.offsetLeft,\n              y: e.target.offsetTop\n            },\n            dragTime: _this2.itemTimeStart,\n            dragGroupDelta: 0\n          });\n        } else {\n          return false;\n        }\n      }).on('dragmove', function (e) {\n        if (_this2.state.dragging) {\n          var dragTime = _this2.dragTime(e);\n          var dragGroupDelta = _this2.dragGroupDelta(e);\n          if (_this2.props.moveResizeValidator) {\n            dragTime = _this2.props.moveResizeValidator('move', _this2.props.item, dragTime);\n          }\n          if (_this2.props.onDrag) {\n            _this2.props.onDrag(_this2.itemId, dragTime, _this2.props.order.index + dragGroupDelta);\n          }\n          _this2.setState({\n            dragTime: dragTime,\n            dragGroupDelta: dragGroupDelta\n          });\n        }\n      }).on('dragend', function (e) {\n        if (_this2.state.dragging) {\n          if (_this2.props.onDrop) {\n            var dragTime = _this2.dragTime(e);\n            if (_this2.props.moveResizeValidator) {\n              dragTime = _this2.props.moveResizeValidator('move', _this2.props.item, dragTime);\n            }\n            _this2.props.onDrop(_this2.itemId, dragTime, _this2.props.order.index + _this2.dragGroupDelta(e));\n          }\n          _this2.setState({\n            dragging: false,\n            dragStart: null,\n            preDragPosition: null,\n            dragTime: null,\n            dragGroupDelta: null\n          });\n        }\n      }).on('resizestart', function (e) {\n        if (_this2.props.selected) {\n          _this2.setState({\n            resizing: true,\n            resizeEdge: null,\n            // we don't know yet\n            resizeStart: e.pageX,\n            resizeTime: 0\n          });\n        } else {\n          return false;\n        }\n      }).on('resizemove', function (e) {\n        if (_this2.state.resizing) {\n          var resizeEdge = _this2.state.resizeEdge;\n          if (!resizeEdge) {\n            resizeEdge = e.deltaRect.left !== 0 ? 'left' : 'right';\n            _this2.setState({\n              resizeEdge: resizeEdge\n            });\n          }\n          var resizeTime = _this2.resizeTimeSnap(_this2.timeFor(e));\n          if (_this2.props.moveResizeValidator) {\n            resizeTime = _this2.props.moveResizeValidator('resize', _this2.props.item, resizeTime, resizeEdge);\n          }\n          if (_this2.props.onResizing) {\n            _this2.props.onResizing(_this2.itemId, resizeTime, resizeEdge);\n          }\n          _this2.setState({\n            resizeTime: resizeTime\n          });\n        }\n      }).on('resizeend', function (e) {\n        if (_this2.state.resizing) {\n          var resizeEdge = _this2.state.resizeEdge;\n          var resizeTime = _this2.resizeTimeSnap(_this2.timeFor(e));\n          if (_this2.props.moveResizeValidator) {\n            resizeTime = _this2.props.moveResizeValidator('resize', _this2.props.item, resizeTime, resizeEdge);\n          }\n          if (_this2.props.onResized) {\n            _this2.props.onResized(_this2.itemId, resizeTime, resizeEdge, _this2.resizeTimeDelta(e, resizeEdge));\n          }\n          _this2.setState({\n            resizing: null,\n            resizeStart: null,\n            resizeEdge: null,\n            resizeTime: null\n          });\n        }\n      }).on('tap', function (e) {\n        _this2.actualClick(e, e.pointerType === 'mouse' ? 'click' : 'touch');\n      });\n      this.setState({\n        interactMounted: true\n      });\n    }\n  }, {\n    key: \"canResizeLeft\",\n    value: function canResizeLeft() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      if (!props.canResizeLeft) {\n        return false;\n      }\n      var width = parseInt(props.dimensions.width, 10);\n      return width >= props.minResizeWidth;\n    }\n  }, {\n    key: \"canResizeRight\",\n    value: function canResizeRight() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      if (!props.canResizeRight) {\n        return false;\n      }\n      var width = parseInt(props.dimensions.width, 10);\n      return width >= props.minResizeWidth;\n    }\n  }, {\n    key: \"canMove\",\n    value: function canMove() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      return !!props.canMove;\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      this.cacheDataFromProps(this.props);\n      var interactMounted = this.state.interactMounted;\n      var couldDrag = prevProps.selected && this.canMove(prevProps);\n      var couldResizeLeft = prevProps.selected && this.canResizeLeft(prevProps);\n      var couldResizeRight = prevProps.selected && this.canResizeRight(prevProps);\n      var willBeAbleToDrag = this.props.selected && this.canMove(this.props);\n      var willBeAbleToResizeLeft = this.props.selected && this.canResizeLeft(this.props);\n      var willBeAbleToResizeRight = this.props.selected && this.canResizeRight(this.props);\n      if (!!this.item) {\n        if (this.props.selected && !interactMounted) {\n          this.mountInteract();\n          interactMounted = true;\n        }\n        if (interactMounted && (couldResizeLeft !== willBeAbleToResizeLeft || couldResizeRight !== willBeAbleToResizeRight)) {\n          var leftResize = this.props.useResizeHandle ? this.dragLeft : true;\n          var rightResize = this.props.useResizeHandle ? this.dragRight : true;\n          (0, _interactjs[\"default\"])(this.item).resizable({\n            enabled: willBeAbleToResizeLeft || willBeAbleToResizeRight,\n            edges: {\n              top: false,\n              bottom: false,\n              left: willBeAbleToResizeLeft && leftResize,\n              right: willBeAbleToResizeRight && rightResize\n            }\n          });\n        }\n        if (interactMounted && couldDrag !== willBeAbleToDrag) {\n          (0, _interactjs[\"default\"])(this.item).draggable({\n            enabled: willBeAbleToDrag\n          });\n        }\n      } else {\n        interactMounted = false;\n      }\n      this.setState({\n        interactMounted: interactMounted\n      });\n    }\n  }, {\n    key: \"actualClick\",\n    value: function actualClick(e, clickType) {\n      if (this.props.canSelect && this.props.onSelect) {\n        this.props.onSelect(this.itemId, clickType, e);\n      }\n    }\n  }, {\n    key: \"getItemStyle\",\n    value: function getItemStyle(props) {\n      var dimensions = this.props.dimensions;\n      var baseStyles = {\n        position: 'absolute',\n        boxSizing: 'border-box',\n        left: \"\".concat(dimensions.left, \"px\"),\n        top: \"\".concat(dimensions.top, \"px\"),\n        width: \"\".concat(dimensions.width, \"px\"),\n        height: \"\".concat(dimensions.height, \"px\"),\n        lineHeight: \"\".concat(dimensions.height, \"px\")\n      };\n      var finalStyle = Object.assign({}, _styles.overridableStyles, this.props.selected ? _styles.selectedStyle : {}, this.props.selected & this.canMove(this.props) ? _styles.selectedAndCanMove : {}, this.props.selected & this.canResizeLeft(this.props) ? _styles.selectedAndCanResizeLeft : {}, this.props.selected & this.canResizeLeft(this.props) & this.state.dragging ? _styles.selectedAndCanResizeLeftAndDragLeft : {}, this.props.selected & this.canResizeRight(this.props) ? _styles.selectedAndCanResizeRight : {}, this.props.selected & this.canResizeRight(this.props) & this.state.dragging ? _styles.selectedAndCanResizeRightAndDragRight : {}, props.style, baseStyles);\n      return finalStyle;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (typeof this.props.order === 'undefined' || this.props.order === null) {\n        return null;\n      }\n      var timelineContext = this.context.getTimelineContext();\n      var itemContext = {\n        dimensions: this.props.dimensions,\n        useResizeHandle: this.props.useResizeHandle,\n        title: this.itemTitle,\n        canMove: this.canMove(this.props),\n        canResizeLeft: this.canResizeLeft(this.props),\n        canResizeRight: this.canResizeRight(this.props),\n        selected: this.props.selected,\n        dragging: this.state.dragging,\n        dragStart: this.state.dragStart,\n        dragTime: this.state.dragTime,\n        dragGroupDelta: this.state.dragGroupDelta,\n        resizing: this.state.resizing,\n        resizeEdge: this.state.resizeEdge,\n        resizeStart: this.state.resizeStart,\n        resizeTime: this.state.resizeTime,\n        width: this.props.dimensions.width\n      };\n      return this.props.itemRenderer({\n        item: this.props.item,\n        timelineContext: timelineContext,\n        itemContext: itemContext,\n        getItemProps: this.getItemProps,\n        getResizeProps: this.getResizeProps\n      });\n    }\n  }]);\n  return Item;\n}(_react.Component);\nexports[\"default\"] = Item;\n_defineProperty(Item, \"propTypes\", {\n  canvasTimeStart: _propTypes[\"default\"].number.isRequired,\n  canvasTimeEnd: _propTypes[\"default\"].number.isRequired,\n  canvasWidth: _propTypes[\"default\"].number.isRequired,\n  order: _propTypes[\"default\"].object,\n  dragSnap: _propTypes[\"default\"].number,\n  minResizeWidth: _propTypes[\"default\"].number,\n  selected: _propTypes[\"default\"].bool,\n  canChangeGroup: _propTypes[\"default\"].bool.isRequired,\n  canMove: _propTypes[\"default\"].bool.isRequired,\n  canResizeLeft: _propTypes[\"default\"].bool.isRequired,\n  canResizeRight: _propTypes[\"default\"].bool.isRequired,\n  keys: _propTypes[\"default\"].object.isRequired,\n  item: _propTypes[\"default\"].object.isRequired,\n  onSelect: _propTypes[\"default\"].func,\n  onDrag: _propTypes[\"default\"].func,\n  onDrop: _propTypes[\"default\"].func,\n  onResizing: _propTypes[\"default\"].func,\n  onResized: _propTypes[\"default\"].func,\n  onContextMenu: _propTypes[\"default\"].func,\n  itemRenderer: _propTypes[\"default\"].func,\n  itemProps: _propTypes[\"default\"].object,\n  canSelect: _propTypes[\"default\"].bool,\n  dimensions: _propTypes[\"default\"].object,\n  groupTops: _propTypes[\"default\"].array,\n  useResizeHandle: _propTypes[\"default\"].bool,\n  moveResizeValidator: _propTypes[\"default\"].func,\n  onItemDoubleClick: _propTypes[\"default\"].func,\n  scrollRef: _propTypes[\"default\"].object\n});\n_defineProperty(Item, \"defaultProps\", {\n  selected: false,\n  itemRenderer: _defaultItemRenderer.defaultItemRenderer\n});\n_defineProperty(Item, \"contextTypes\", {\n  getTimelineContext: _propTypes[\"default\"].func\n});","map":{"version":3,"names":["Object","defineProperty","exports","value","_react","require","_propTypes","_interopRequireDefault","_interactjs","_moment","_generic","_events","_defaultItemRenderer","_calendar","_domHelpers","_styles","obj","__esModule","_typeof","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","call","_assertThisInitialized","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","ReferenceError","_inherits","subClass","superClass","create","_setPrototypeOf","p","_defineProperty","Item","_Component","_props","_this","e","state","interactMounted","preventDefault","startedClicking","actualClick","startedTouching","stopPropagation","onItemDoubleClick","itemId","onContextMenu","el","item","dragLeft","dragRight","arguments","undefined","classNames","className","concat","ref","getItemRef","title","itemDivTitle","onMouseDown","composeEvents","onMouseUp","onTouchStart","onTouchEnd","onDoubleClick","handleDoubleClick","handleContextMenu","style","assign","getItemStyle","leftName","leftClassName","rightName","rightClassName","left","getDragLeftRef","leftResizeStyle","leftStyle","right","getDragRightRef","rightResizeStyle","rightStyle","cacheDataFromProps","dragging","dragStart","preDragPosition","dragTime","dragGroupDelta","resizing","resizeEdge","resizeStart","resizeTime","shouldComponentUpdate","nextProps","nextState","shouldUpdate","keys","deepObjectCompare","itemProps","selected","canvasTimeStart","canvasTimeEnd","canvasWidth","order","index","dragSnap","minResizeWidth","canChangeGroup","canSelect","canMove","canResizeLeft","canResizeRight","dimensions","_get","itemIdKey","itemTitle","itemTitleKey","itemDivTitleKey","itemTimeStart","itemTimeStartKey","itemTimeEnd","itemTimeEndKey","getTimeRatio","_this$props","coordinateToTimeRatio","dragTimeSnap","considerOffset","offset","utcOffset","Math","round","resizeTimeSnap","endTime","startTime","timeFor","ratio","getSumOffset","scrollRef","offsetLeft","scrolls","getSumScroll","pageX","scrollLeft","_this$props2","groupTops","groupDelta","offsetTop","_i","_Object$keys","groupTop","pageY","scrollTop","parseInt","resizeTimeDelta","timeDelta","mountInteract","_this2","leftResize","useResizeHandle","rightResize","resizable","edges","top","bottom","enabled","draggable","styleCursor","on","clickTime","setState","x","y","moveResizeValidator","onDrag","onDrop","deltaRect","onResizing","onResized","pointerType","width","componentDidUpdate","prevProps","couldDrag","couldResizeLeft","couldResizeRight","willBeAbleToDrag","willBeAbleToResizeLeft","willBeAbleToResizeRight","clickType","onSelect","baseStyles","position","boxSizing","height","lineHeight","finalStyle","overridableStyles","selectedStyle","selectedAndCanMove","selectedAndCanResizeLeft","selectedAndCanResizeLeftAndDragLeft","selectedAndCanResizeRight","selectedAndCanResizeRightAndDragRight","render","timelineContext","context","getTimelineContext","itemContext","itemRenderer","getItemProps","getResizeProps","Component","number","isRequired","object","bool","func","array","defaultItemRenderer"],"sources":["/Users/ethan/WebstormProjects/frontend/node_modules/react-calendar-timeline/lib/lib/items/Item.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = require(\"react\");\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _interactjs = _interopRequireDefault(require(\"interactjs\"));\n\nvar _moment = _interopRequireDefault(require(\"moment\"));\n\nvar _generic = require(\"../utility/generic\");\n\nvar _events = require(\"../utility/events\");\n\nvar _defaultItemRenderer = require(\"./defaultItemRenderer\");\n\nvar _calendar = require(\"../utility/calendar\");\n\nvar _domHelpers = require(\"../utility/dom-helpers\");\n\nvar _styles = require(\"./styles\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar Item =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Item, _Component);\n\n  // removed prop type check for SPEED!\n  // they are coming from a trusted component anyway\n  // (this complicates performance debugging otherwise)\n  function Item(_props) {\n    var _this;\n\n    _classCallCheck(this, Item);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Item).call(this, _props));\n\n    _defineProperty(_assertThisInitialized(_this), \"onMouseDown\", function (e) {\n      if (!_this.state.interactMounted) {\n        e.preventDefault();\n        _this.startedClicking = true;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onMouseUp\", function (e) {\n      if (!_this.state.interactMounted && _this.startedClicking) {\n        _this.startedClicking = false;\n\n        _this.actualClick(e, 'click');\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onTouchStart\", function (e) {\n      if (!_this.state.interactMounted) {\n        e.preventDefault();\n        _this.startedTouching = true;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onTouchEnd\", function (e) {\n      if (!_this.state.interactMounted && _this.startedTouching) {\n        _this.startedTouching = false;\n\n        _this.actualClick(e, 'touch');\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleDoubleClick\", function (e) {\n      e.stopPropagation();\n\n      if (_this.props.onItemDoubleClick) {\n        _this.props.onItemDoubleClick(_this.itemId, e);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleContextMenu\", function (e) {\n      if (_this.props.onContextMenu) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        _this.props.onContextMenu(_this.itemId, e);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getItemRef\", function (el) {\n      return _this.item = el;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getDragLeftRef\", function (el) {\n      return _this.dragLeft = el;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getDragRightRef\", function (el) {\n      return _this.dragRight = el;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getItemProps\", function () {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      //TODO: maybe shouldnt include all of these classes\n      var classNames = 'rct-item' + (_this.props.item.className ? \" \".concat(_this.props.item.className) : '');\n      return {\n        key: _this.itemId,\n        ref: _this.getItemRef,\n        title: _this.itemDivTitle,\n        className: classNames + \" \".concat(props.className ? props.className : ''),\n        onMouseDown: (0, _events.composeEvents)(_this.onMouseDown, props.onMouseDown),\n        onMouseUp: (0, _events.composeEvents)(_this.onMouseUp, props.onMouseUp),\n        onTouchStart: (0, _events.composeEvents)(_this.onTouchStart, props.onTouchStart),\n        onTouchEnd: (0, _events.composeEvents)(_this.onTouchEnd, props.onTouchEnd),\n        onDoubleClick: (0, _events.composeEvents)(_this.handleDoubleClick, props.onDoubleClick),\n        onContextMenu: (0, _events.composeEvents)(_this.handleContextMenu, props.onContextMenu),\n        style: Object.assign({}, _this.getItemStyle(props))\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getResizeProps\", function () {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var leftName = \"rct-item-handler rct-item-handler-left rct-item-handler-resize-left\";\n\n      if (props.leftClassName) {\n        leftName += \" \".concat(props.leftClassName);\n      }\n\n      var rightName = \"rct-item-handler rct-item-handler-right rct-item-handler-resize-right\";\n\n      if (props.rightClassName) {\n        rightName += \" \".concat(props.rightClassName);\n      }\n\n      return {\n        left: {\n          ref: _this.getDragLeftRef,\n          className: leftName,\n          style: Object.assign({}, _styles.leftResizeStyle, props.leftStyle)\n        },\n        right: {\n          ref: _this.getDragRightRef,\n          className: rightName,\n          style: Object.assign({}, _styles.rightResizeStyle, props.rightStyle)\n        }\n      };\n    });\n\n    _this.cacheDataFromProps(_props);\n\n    _this.state = {\n      interactMounted: false,\n      dragging: null,\n      dragStart: null,\n      preDragPosition: null,\n      dragTime: null,\n      dragGroupDelta: null,\n      resizing: null,\n      resizeEdge: null,\n      resizeStart: null,\n      resizeTime: null\n    };\n    return _this;\n  }\n\n  _createClass(Item, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      var shouldUpdate = nextState.dragging !== this.state.dragging || nextState.dragTime !== this.state.dragTime || nextState.dragGroupDelta !== this.state.dragGroupDelta || nextState.resizing !== this.state.resizing || nextState.resizeTime !== this.state.resizeTime || nextProps.keys !== this.props.keys || !(0, _generic.deepObjectCompare)(nextProps.itemProps, this.props.itemProps) || nextProps.selected !== this.props.selected || nextProps.item !== this.props.item || nextProps.canvasTimeStart !== this.props.canvasTimeStart || nextProps.canvasTimeEnd !== this.props.canvasTimeEnd || nextProps.canvasWidth !== this.props.canvasWidth || (nextProps.order ? nextProps.order.index : undefined) !== (this.props.order ? this.props.order.index : undefined) || nextProps.dragSnap !== this.props.dragSnap || nextProps.minResizeWidth !== this.props.minResizeWidth || nextProps.canChangeGroup !== this.props.canChangeGroup || nextProps.canSelect !== this.props.canSelect || nextProps.canMove !== this.props.canMove || nextProps.canResizeLeft !== this.props.canResizeLeft || nextProps.canResizeRight !== this.props.canResizeRight || nextProps.dimensions !== this.props.dimensions;\n      return shouldUpdate;\n    }\n  }, {\n    key: \"cacheDataFromProps\",\n    value: function cacheDataFromProps(props) {\n      this.itemId = (0, _generic._get)(props.item, props.keys.itemIdKey);\n      this.itemTitle = (0, _generic._get)(props.item, props.keys.itemTitleKey);\n      this.itemDivTitle = props.keys.itemDivTitleKey ? (0, _generic._get)(props.item, props.keys.itemDivTitleKey) : this.itemTitle;\n      this.itemTimeStart = (0, _generic._get)(props.item, props.keys.itemTimeStartKey);\n      this.itemTimeEnd = (0, _generic._get)(props.item, props.keys.itemTimeEndKey);\n    }\n  }, {\n    key: \"getTimeRatio\",\n    value: function getTimeRatio() {\n      var _this$props = this.props,\n          canvasTimeStart = _this$props.canvasTimeStart,\n          canvasTimeEnd = _this$props.canvasTimeEnd,\n          canvasWidth = _this$props.canvasWidth;\n      return (0, _calendar.coordinateToTimeRatio)(canvasTimeStart, canvasTimeEnd, canvasWidth);\n    }\n  }, {\n    key: \"dragTimeSnap\",\n    value: function dragTimeSnap(dragTime, considerOffset) {\n      var dragSnap = this.props.dragSnap;\n\n      if (dragSnap) {\n        var offset = considerOffset ? (0, _moment[\"default\"])().utcOffset() * 60 * 1000 : 0;\n        return Math.round(dragTime / dragSnap) * dragSnap - offset % dragSnap;\n      } else {\n        return dragTime;\n      }\n    }\n  }, {\n    key: \"resizeTimeSnap\",\n    value: function resizeTimeSnap(dragTime) {\n      var dragSnap = this.props.dragSnap;\n\n      if (dragSnap) {\n        var endTime = this.itemTimeEnd % dragSnap;\n        return Math.round((dragTime - endTime) / dragSnap) * dragSnap + endTime;\n      } else {\n        return dragTime;\n      }\n    }\n  }, {\n    key: \"dragTime\",\n    value: function dragTime(e) {\n      var startTime = (0, _moment[\"default\"])(this.itemTimeStart);\n\n      if (this.state.dragging) {\n        return this.dragTimeSnap(this.timeFor(e) + this.state.dragStart.offset, true);\n      } else {\n        return startTime;\n      }\n    }\n  }, {\n    key: \"timeFor\",\n    value: function timeFor(e) {\n      var ratio = (0, _calendar.coordinateToTimeRatio)(this.props.canvasTimeStart, this.props.canvasTimeEnd, this.props.canvasWidth);\n      var offset = (0, _domHelpers.getSumOffset)(this.props.scrollRef).offsetLeft;\n      var scrolls = (0, _domHelpers.getSumScroll)(this.props.scrollRef);\n      return (e.pageX - offset + scrolls.scrollLeft) * ratio + this.props.canvasTimeStart;\n    }\n  }, {\n    key: \"dragGroupDelta\",\n    value: function dragGroupDelta(e) {\n      var _this$props2 = this.props,\n          groupTops = _this$props2.groupTops,\n          order = _this$props2.order;\n\n      if (this.state.dragging) {\n        if (!this.props.canChangeGroup) {\n          return 0;\n        }\n\n        var groupDelta = 0;\n        var offset = (0, _domHelpers.getSumOffset)(this.props.scrollRef).offsetTop;\n        var scrolls = (0, _domHelpers.getSumScroll)(this.props.scrollRef);\n\n        for (var _i = 0, _Object$keys = Object.keys(groupTops); _i < _Object$keys.length; _i++) {\n          var key = _Object$keys[_i];\n          var groupTop = groupTops[key];\n\n          if (e.pageY - offset + scrolls.scrollTop > groupTop) {\n            groupDelta = parseInt(key, 10) - order.index;\n          } else {\n            break;\n          }\n        }\n\n        if (this.props.order.index + groupDelta < 0) {\n          return 0 - this.props.order.index;\n        } else {\n          return groupDelta;\n        }\n      } else {\n        return 0;\n      }\n    }\n  }, {\n    key: \"resizeTimeDelta\",\n    value: function resizeTimeDelta(e, resizeEdge) {\n      var length = this.itemTimeEnd - this.itemTimeStart;\n      var timeDelta = this.dragTimeSnap((e.pageX - this.state.resizeStart) * this.getTimeRatio());\n\n      if (length + (resizeEdge === 'left' ? -timeDelta : timeDelta) < (this.props.dragSnap || 1000)) {\n        if (resizeEdge === 'left') {\n          return length - (this.props.dragSnap || 1000);\n        } else {\n          return (this.props.dragSnap || 1000) - length;\n        }\n      } else {\n        return timeDelta;\n      }\n    }\n  }, {\n    key: \"mountInteract\",\n    value: function mountInteract() {\n      var _this2 = this;\n\n      var leftResize = this.props.useResizeHandle ? \".rct-item-handler-resize-left\" : true;\n      var rightResize = this.props.useResizeHandle ? \".rct-item-handler-resize-right\" : true;\n      (0, _interactjs[\"default\"])(this.item).resizable({\n        edges: {\n          left: this.canResizeLeft() && leftResize,\n          right: this.canResizeRight() && rightResize,\n          top: false,\n          bottom: false\n        },\n        enabled: this.props.selected && (this.canResizeLeft() || this.canResizeRight())\n      }).draggable({\n        enabled: this.props.selected && this.canMove()\n      }).styleCursor(false).on('dragstart', function (e) {\n        if (_this2.props.selected) {\n          var clickTime = _this2.timeFor(e);\n\n          _this2.setState({\n            dragging: true,\n            dragStart: {\n              x: e.pageX,\n              y: e.pageY,\n              offset: _this2.itemTimeStart - clickTime\n            },\n            preDragPosition: {\n              x: e.target.offsetLeft,\n              y: e.target.offsetTop\n            },\n            dragTime: _this2.itemTimeStart,\n            dragGroupDelta: 0\n          });\n        } else {\n          return false;\n        }\n      }).on('dragmove', function (e) {\n        if (_this2.state.dragging) {\n          var dragTime = _this2.dragTime(e);\n\n          var dragGroupDelta = _this2.dragGroupDelta(e);\n\n          if (_this2.props.moveResizeValidator) {\n            dragTime = _this2.props.moveResizeValidator('move', _this2.props.item, dragTime);\n          }\n\n          if (_this2.props.onDrag) {\n            _this2.props.onDrag(_this2.itemId, dragTime, _this2.props.order.index + dragGroupDelta);\n          }\n\n          _this2.setState({\n            dragTime: dragTime,\n            dragGroupDelta: dragGroupDelta\n          });\n        }\n      }).on('dragend', function (e) {\n        if (_this2.state.dragging) {\n          if (_this2.props.onDrop) {\n            var dragTime = _this2.dragTime(e);\n\n            if (_this2.props.moveResizeValidator) {\n              dragTime = _this2.props.moveResizeValidator('move', _this2.props.item, dragTime);\n            }\n\n            _this2.props.onDrop(_this2.itemId, dragTime, _this2.props.order.index + _this2.dragGroupDelta(e));\n          }\n\n          _this2.setState({\n            dragging: false,\n            dragStart: null,\n            preDragPosition: null,\n            dragTime: null,\n            dragGroupDelta: null\n          });\n        }\n      }).on('resizestart', function (e) {\n        if (_this2.props.selected) {\n          _this2.setState({\n            resizing: true,\n            resizeEdge: null,\n            // we don't know yet\n            resizeStart: e.pageX,\n            resizeTime: 0\n          });\n        } else {\n          return false;\n        }\n      }).on('resizemove', function (e) {\n        if (_this2.state.resizing) {\n          var resizeEdge = _this2.state.resizeEdge;\n\n          if (!resizeEdge) {\n            resizeEdge = e.deltaRect.left !== 0 ? 'left' : 'right';\n\n            _this2.setState({\n              resizeEdge: resizeEdge\n            });\n          }\n\n          var resizeTime = _this2.resizeTimeSnap(_this2.timeFor(e));\n\n          if (_this2.props.moveResizeValidator) {\n            resizeTime = _this2.props.moveResizeValidator('resize', _this2.props.item, resizeTime, resizeEdge);\n          }\n\n          if (_this2.props.onResizing) {\n            _this2.props.onResizing(_this2.itemId, resizeTime, resizeEdge);\n          }\n\n          _this2.setState({\n            resizeTime: resizeTime\n          });\n        }\n      }).on('resizeend', function (e) {\n        if (_this2.state.resizing) {\n          var resizeEdge = _this2.state.resizeEdge;\n\n          var resizeTime = _this2.resizeTimeSnap(_this2.timeFor(e));\n\n          if (_this2.props.moveResizeValidator) {\n            resizeTime = _this2.props.moveResizeValidator('resize', _this2.props.item, resizeTime, resizeEdge);\n          }\n\n          if (_this2.props.onResized) {\n            _this2.props.onResized(_this2.itemId, resizeTime, resizeEdge, _this2.resizeTimeDelta(e, resizeEdge));\n          }\n\n          _this2.setState({\n            resizing: null,\n            resizeStart: null,\n            resizeEdge: null,\n            resizeTime: null\n          });\n        }\n      }).on('tap', function (e) {\n        _this2.actualClick(e, e.pointerType === 'mouse' ? 'click' : 'touch');\n      });\n      this.setState({\n        interactMounted: true\n      });\n    }\n  }, {\n    key: \"canResizeLeft\",\n    value: function canResizeLeft() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n\n      if (!props.canResizeLeft) {\n        return false;\n      }\n\n      var width = parseInt(props.dimensions.width, 10);\n      return width >= props.minResizeWidth;\n    }\n  }, {\n    key: \"canResizeRight\",\n    value: function canResizeRight() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n\n      if (!props.canResizeRight) {\n        return false;\n      }\n\n      var width = parseInt(props.dimensions.width, 10);\n      return width >= props.minResizeWidth;\n    }\n  }, {\n    key: \"canMove\",\n    value: function canMove() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      return !!props.canMove;\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      this.cacheDataFromProps(this.props);\n      var interactMounted = this.state.interactMounted;\n      var couldDrag = prevProps.selected && this.canMove(prevProps);\n      var couldResizeLeft = prevProps.selected && this.canResizeLeft(prevProps);\n      var couldResizeRight = prevProps.selected && this.canResizeRight(prevProps);\n      var willBeAbleToDrag = this.props.selected && this.canMove(this.props);\n      var willBeAbleToResizeLeft = this.props.selected && this.canResizeLeft(this.props);\n      var willBeAbleToResizeRight = this.props.selected && this.canResizeRight(this.props);\n\n      if (!!this.item) {\n        if (this.props.selected && !interactMounted) {\n          this.mountInteract();\n          interactMounted = true;\n        }\n\n        if (interactMounted && (couldResizeLeft !== willBeAbleToResizeLeft || couldResizeRight !== willBeAbleToResizeRight)) {\n          var leftResize = this.props.useResizeHandle ? this.dragLeft : true;\n          var rightResize = this.props.useResizeHandle ? this.dragRight : true;\n          (0, _interactjs[\"default\"])(this.item).resizable({\n            enabled: willBeAbleToResizeLeft || willBeAbleToResizeRight,\n            edges: {\n              top: false,\n              bottom: false,\n              left: willBeAbleToResizeLeft && leftResize,\n              right: willBeAbleToResizeRight && rightResize\n            }\n          });\n        }\n\n        if (interactMounted && couldDrag !== willBeAbleToDrag) {\n          (0, _interactjs[\"default\"])(this.item).draggable({\n            enabled: willBeAbleToDrag\n          });\n        }\n      } else {\n        interactMounted = false;\n      }\n\n      this.setState({\n        interactMounted: interactMounted\n      });\n    }\n  }, {\n    key: \"actualClick\",\n    value: function actualClick(e, clickType) {\n      if (this.props.canSelect && this.props.onSelect) {\n        this.props.onSelect(this.itemId, clickType, e);\n      }\n    }\n  }, {\n    key: \"getItemStyle\",\n    value: function getItemStyle(props) {\n      var dimensions = this.props.dimensions;\n      var baseStyles = {\n        position: 'absolute',\n        boxSizing: 'border-box',\n        left: \"\".concat(dimensions.left, \"px\"),\n        top: \"\".concat(dimensions.top, \"px\"),\n        width: \"\".concat(dimensions.width, \"px\"),\n        height: \"\".concat(dimensions.height, \"px\"),\n        lineHeight: \"\".concat(dimensions.height, \"px\")\n      };\n      var finalStyle = Object.assign({}, _styles.overridableStyles, this.props.selected ? _styles.selectedStyle : {}, this.props.selected & this.canMove(this.props) ? _styles.selectedAndCanMove : {}, this.props.selected & this.canResizeLeft(this.props) ? _styles.selectedAndCanResizeLeft : {}, this.props.selected & this.canResizeLeft(this.props) & this.state.dragging ? _styles.selectedAndCanResizeLeftAndDragLeft : {}, this.props.selected & this.canResizeRight(this.props) ? _styles.selectedAndCanResizeRight : {}, this.props.selected & this.canResizeRight(this.props) & this.state.dragging ? _styles.selectedAndCanResizeRightAndDragRight : {}, props.style, baseStyles);\n      return finalStyle;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (typeof this.props.order === 'undefined' || this.props.order === null) {\n        return null;\n      }\n\n      var timelineContext = this.context.getTimelineContext();\n      var itemContext = {\n        dimensions: this.props.dimensions,\n        useResizeHandle: this.props.useResizeHandle,\n        title: this.itemTitle,\n        canMove: this.canMove(this.props),\n        canResizeLeft: this.canResizeLeft(this.props),\n        canResizeRight: this.canResizeRight(this.props),\n        selected: this.props.selected,\n        dragging: this.state.dragging,\n        dragStart: this.state.dragStart,\n        dragTime: this.state.dragTime,\n        dragGroupDelta: this.state.dragGroupDelta,\n        resizing: this.state.resizing,\n        resizeEdge: this.state.resizeEdge,\n        resizeStart: this.state.resizeStart,\n        resizeTime: this.state.resizeTime,\n        width: this.props.dimensions.width\n      };\n      return this.props.itemRenderer({\n        item: this.props.item,\n        timelineContext: timelineContext,\n        itemContext: itemContext,\n        getItemProps: this.getItemProps,\n        getResizeProps: this.getResizeProps\n      });\n    }\n  }]);\n\n  return Item;\n}(_react.Component);\n\nexports[\"default\"] = Item;\n\n_defineProperty(Item, \"propTypes\", {\n  canvasTimeStart: _propTypes[\"default\"].number.isRequired,\n  canvasTimeEnd: _propTypes[\"default\"].number.isRequired,\n  canvasWidth: _propTypes[\"default\"].number.isRequired,\n  order: _propTypes[\"default\"].object,\n  dragSnap: _propTypes[\"default\"].number,\n  minResizeWidth: _propTypes[\"default\"].number,\n  selected: _propTypes[\"default\"].bool,\n  canChangeGroup: _propTypes[\"default\"].bool.isRequired,\n  canMove: _propTypes[\"default\"].bool.isRequired,\n  canResizeLeft: _propTypes[\"default\"].bool.isRequired,\n  canResizeRight: _propTypes[\"default\"].bool.isRequired,\n  keys: _propTypes[\"default\"].object.isRequired,\n  item: _propTypes[\"default\"].object.isRequired,\n  onSelect: _propTypes[\"default\"].func,\n  onDrag: _propTypes[\"default\"].func,\n  onDrop: _propTypes[\"default\"].func,\n  onResizing: _propTypes[\"default\"].func,\n  onResized: _propTypes[\"default\"].func,\n  onContextMenu: _propTypes[\"default\"].func,\n  itemRenderer: _propTypes[\"default\"].func,\n  itemProps: _propTypes[\"default\"].object,\n  canSelect: _propTypes[\"default\"].bool,\n  dimensions: _propTypes[\"default\"].object,\n  groupTops: _propTypes[\"default\"].array,\n  useResizeHandle: _propTypes[\"default\"].bool,\n  moveResizeValidator: _propTypes[\"default\"].func,\n  onItemDoubleClick: _propTypes[\"default\"].func,\n  scrollRef: _propTypes[\"default\"].object\n});\n\n_defineProperty(Item, \"defaultProps\", {\n  selected: false,\n  itemRenderer: _defaultItemRenderer.defaultItemRenderer\n});\n\n_defineProperty(Item, \"contextTypes\", {\n  getTimelineContext: _propTypes[\"default\"].func\n});"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}