{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _Items = _interopRequireDefault(require(\"./items/Items\"));\nvar _Sidebar = _interopRequireDefault(require(\"./layout/Sidebar\"));\nvar _Columns = _interopRequireDefault(require(\"./columns/Columns\"));\nvar _GroupRows = _interopRequireDefault(require(\"./row/GroupRows\"));\nvar _ScrollElement = _interopRequireDefault(require(\"./scroll/ScrollElement\"));\nvar _MarkerCanvas = _interopRequireDefault(require(\"./markers/MarkerCanvas\"));\nvar _window = _interopRequireDefault(require(\"../resize-detector/window\"));\nvar _calendar = require(\"./utility/calendar\");\nvar _generic = require(\"./utility/generic\");\nvar _defaultConfig = require(\"./default-config\");\nvar _TimelineStateContext = require(\"./timeline/TimelineStateContext\");\nvar _TimelineMarkersContext = require(\"./markers/TimelineMarkersContext\");\nvar _HeadersContext = require(\"./headers/HeadersContext\");\nvar _TimelineHeaders = _interopRequireDefault(require(\"./headers/TimelineHeaders\"));\nvar _DateHeader = _interopRequireDefault(require(\"./headers/DateHeader\"));\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n          var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {};\n          if (desc.get || desc.set) {\n            Object.defineProperty(newObj, key, desc);\n          } else {\n            newObj[key] = obj[key];\n          }\n        }\n      }\n    }\n    newObj[\"default\"] = obj;\n    return newObj;\n  }\n}\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n  return _typeof(obj);\n}\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\nfunction _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n  return _arr;\n}\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n  return _assertThisInitialized(self);\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nvar ReactCalendarTimeline = /*#__PURE__*/\nfunction (_Component) {\n  _inherits(ReactCalendarTimeline, _Component);\n  _createClass(ReactCalendarTimeline, [{\n    key: \"getChildContext\",\n    value: function getChildContext() {\n      var _this2 = this;\n      return {\n        getTimelineContext: function getTimelineContext() {\n          return _this2.getTimelineContext();\n        }\n      };\n    }\n  }]);\n  function ReactCalendarTimeline(_props) {\n    var _this;\n    _classCallCheck(this, ReactCalendarTimeline);\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ReactCalendarTimeline).call(this, _props));\n    _defineProperty(_assertThisInitialized(_this), \"getTimelineContext\", function () {\n      var _this$state = _this.state,\n        width = _this$state.width,\n        visibleTimeStart = _this$state.visibleTimeStart,\n        visibleTimeEnd = _this$state.visibleTimeEnd,\n        canvasTimeStart = _this$state.canvasTimeStart,\n        canvasTimeEnd = _this$state.canvasTimeEnd;\n      return {\n        timelineWidth: width,\n        visibleTimeStart: visibleTimeStart,\n        visibleTimeEnd: visibleTimeEnd,\n        canvasTimeStart: canvasTimeStart,\n        canvasTimeEnd: canvasTimeEnd\n      };\n    });\n    _defineProperty(_assertThisInitialized(_this), \"getTimelineUnit\", function () {\n      var _this$state2 = _this.state,\n        width = _this$state2.width,\n        visibleTimeStart = _this$state2.visibleTimeStart,\n        visibleTimeEnd = _this$state2.visibleTimeEnd;\n      var timeSteps = _this.props.timeSteps;\n      var zoom = visibleTimeEnd - visibleTimeStart;\n      var minUnit = (0, _calendar.getMinUnit)(zoom, width, timeSteps);\n      return minUnit;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"resize\", function () {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.props;\n      var _this$container$getBo = _this.container.getBoundingClientRect(),\n        containerWidth = _this$container$getBo.width;\n      var width = containerWidth - props.sidebarWidth - props.rightSidebarWidth;\n      var canvasWidth = (0, _calendar.getCanvasWidth)(width, props.buffer);\n      var _stackTimelineItems = (0, _calendar.stackTimelineItems)(props.items, props.groups, canvasWidth, _this.state.canvasTimeStart, _this.state.canvasTimeEnd, props.keys, props.lineHeight, props.itemHeightRatio, props.stackItems, _this.state.draggingItem, _this.state.resizingItem, _this.state.dragTime, _this.state.resizingEdge, _this.state.resizeTime, _this.state.newGroupOrder),\n        dimensionItems = _stackTimelineItems.dimensionItems,\n        height = _stackTimelineItems.height,\n        groupHeights = _stackTimelineItems.groupHeights,\n        groupTops = _stackTimelineItems.groupTops; // this is needed by dragItem since it uses pageY from the drag events\n      // if this was in the context of the scrollElement, this would not be necessary\n\n      _this.setState({\n        width: width,\n        dimensionItems: dimensionItems,\n        height: height,\n        groupHeights: groupHeights,\n        groupTops: groupTops\n      }); //initial scroll left is the buffer - 1 (1 is visible area) divided by 2 (2 is the buffer split on the right and left of the timeline)\n\n      var scrollLeft = width * ((props.buffer - 1) / 2);\n      _this.scrollComponent.scrollLeft = scrollLeft;\n      _this.scrollHeaderRef.scrollLeft = scrollLeft;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onScroll\", function (scrollX) {\n      var width = _this.state.width;\n      var canvasTimeStart = _this.state.canvasTimeStart;\n      var zoom = _this.state.visibleTimeEnd - _this.state.visibleTimeStart;\n      var visibleTimeStart = canvasTimeStart + zoom * scrollX / width;\n      if (_this.state.visibleTimeStart !== visibleTimeStart || _this.state.visibleTimeEnd !== visibleTimeStart + zoom) {\n        _this.props.onTimeChange(visibleTimeStart, visibleTimeStart + zoom, _this.updateScrollCanvas, _this.getTimelineUnit());\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"updateScrollCanvas\", function (visibleTimeStart, visibleTimeEnd, forceUpdateDimensions) {\n      var items = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : _this.props.items;\n      var groups = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : _this.props.groups;\n      _this.setState((0, _calendar.calculateScrollCanvas)(visibleTimeStart, visibleTimeEnd, forceUpdateDimensions, items, groups, _this.props, _this.state));\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleWheelZoom\", function (speed, xPosition, deltaY) {\n      _this.changeZoom(1.0 + speed * deltaY / 500, xPosition / _this.state.width);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"changeZoom\", function (scale) {\n      var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0.5;\n      var _this$props = _this.props,\n        minZoom = _this$props.minZoom,\n        maxZoom = _this$props.maxZoom;\n      var oldZoom = _this.state.visibleTimeEnd - _this.state.visibleTimeStart;\n      var newZoom = Math.min(Math.max(Math.round(oldZoom * scale), minZoom), maxZoom); // min 1 min, max 20 years\n\n      var newVisibleTimeStart = Math.round(_this.state.visibleTimeStart + (oldZoom - newZoom) * offset);\n      _this.props.onTimeChange(newVisibleTimeStart, newVisibleTimeStart + newZoom, _this.updateScrollCanvas, _this.getTimelineUnit());\n    });\n    _defineProperty(_assertThisInitialized(_this), \"showPeriod\", function (from, to) {\n      var visibleTimeStart = from.valueOf();\n      var visibleTimeEnd = to.valueOf();\n      var zoom = visibleTimeEnd - visibleTimeStart; // can't zoom in more than to show one hour\n\n      if (zoom < _this.props.minZoom) {\n        return;\n      }\n      _this.props.onTimeChange(visibleTimeStart, visibleTimeStart + zoom, _this.updateScrollCanvas, _this.getTimelineUnit());\n    });\n    _defineProperty(_assertThisInitialized(_this), \"selectItem\", function (item, clickType, e) {\n      if (_this.isItemSelected(item) || _this.props.itemTouchSendsClick && clickType === 'touch') {\n        if (item && _this.props.onItemClick) {\n          var time = _this.timeFromItemEvent(e);\n          _this.props.onItemClick(item, e, time);\n        }\n      } else {\n        _this.setState({\n          selectedItem: item\n        });\n        if (item && _this.props.onItemSelect) {\n          var _time = _this.timeFromItemEvent(e);\n          _this.props.onItemSelect(item, e, _time);\n        } else if (item === null && _this.props.onItemDeselect) {\n          _this.props.onItemDeselect(e); // this isnt in the docs. Is this function even used?\n        }\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"doubleClickItem\", function (item, e) {\n      if (_this.props.onItemDoubleClick) {\n        var time = _this.timeFromItemEvent(e);\n        _this.props.onItemDoubleClick(item, e, time);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"contextMenuClickItem\", function (item, e) {\n      if (_this.props.onItemContextMenu) {\n        var time = _this.timeFromItemEvent(e);\n        _this.props.onItemContextMenu(item, e, time);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"getTimeFromRowClickEvent\", function (e) {\n      var _this$props2 = _this.props,\n        dragSnap = _this$props2.dragSnap,\n        buffer = _this$props2.buffer;\n      var _this$state3 = _this.state,\n        width = _this$state3.width,\n        canvasTimeStart = _this$state3.canvasTimeStart,\n        canvasTimeEnd = _this$state3.canvasTimeEnd; // this gives us distance from left of row element, so event is in\n      // context of the row element, not client or page\n\n      var offsetX = e.nativeEvent.offsetX;\n      var time = (0, _calendar.calculateTimeForXPosition)(canvasTimeStart, canvasTimeEnd, (0, _calendar.getCanvasWidth)(width, buffer), offsetX);\n      time = Math.floor(time / dragSnap) * dragSnap;\n      return time;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"timeFromItemEvent\", function (e) {\n      var _this$state4 = _this.state,\n        width = _this$state4.width,\n        visibleTimeStart = _this$state4.visibleTimeStart,\n        visibleTimeEnd = _this$state4.visibleTimeEnd;\n      var dragSnap = _this.props.dragSnap;\n      var scrollComponent = _this.scrollComponent;\n      var _scrollComponent$getB = scrollComponent.getBoundingClientRect(),\n        scrollX = _scrollComponent$getB.left;\n      var xRelativeToTimeline = e.clientX - scrollX;\n      var relativeItemPosition = xRelativeToTimeline / width;\n      var zoom = visibleTimeEnd - visibleTimeStart;\n      var timeOffset = relativeItemPosition * zoom;\n      var time = Math.round(visibleTimeStart + timeOffset);\n      time = Math.floor(time / dragSnap) * dragSnap;\n      return time;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"dragItem\", function (item, dragTime, newGroupOrder) {\n      var newGroup = _this.props.groups[newGroupOrder];\n      var keys = _this.props.keys;\n      _this.setState({\n        draggingItem: item,\n        dragTime: dragTime,\n        newGroupOrder: newGroupOrder,\n        dragGroupTitle: newGroup ? (0, _generic._get)(newGroup, keys.groupLabelKey) : ''\n      });\n      _this.updatingItem({\n        eventType: 'move',\n        itemId: item,\n        time: dragTime,\n        newGroupOrder: newGroupOrder\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"dropItem\", function (item, dragTime, newGroupOrder) {\n      _this.setState({\n        draggingItem: null,\n        dragTime: null,\n        dragGroupTitle: null\n      });\n      if (_this.props.onItemMove) {\n        _this.props.onItemMove(item, dragTime, newGroupOrder);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"resizingItem\", function (item, resizeTime, edge) {\n      _this.setState({\n        resizingItem: item,\n        resizingEdge: edge,\n        resizeTime: resizeTime\n      });\n      _this.updatingItem({\n        eventType: 'resize',\n        itemId: item,\n        time: resizeTime,\n        edge: edge\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"resizedItem\", function (item, resizeTime, edge, timeDelta) {\n      _this.setState({\n        resizingItem: null,\n        resizingEdge: null,\n        resizeTime: null\n      });\n      if (_this.props.onItemResize && timeDelta !== 0) {\n        _this.props.onItemResize(item, resizeTime, edge);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"updatingItem\", function (_ref) {\n      var eventType = _ref.eventType,\n        itemId = _ref.itemId,\n        time = _ref.time,\n        edge = _ref.edge,\n        newGroupOrder = _ref.newGroupOrder;\n      if (_this.props.onItemDrag) {\n        _this.props.onItemDrag({\n          eventType: eventType,\n          itemId: itemId,\n          time: time,\n          edge: edge,\n          newGroupOrder: newGroupOrder\n        });\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleRowClick\", function (e, rowIndex) {\n      // shouldnt this be handled by the user, as far as when to deselect an item?\n      if (_this.hasSelectedItem()) {\n        _this.selectItem(null);\n      }\n      if (_this.props.onCanvasClick == null) return;\n      var time = _this.getTimeFromRowClickEvent(e);\n      var groupId = (0, _generic._get)(_this.props.groups[rowIndex], _this.props.keys.groupIdKey);\n      _this.props.onCanvasClick(groupId, time, e);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleRowDoubleClick\", function (e, rowIndex) {\n      if (_this.props.onCanvasDoubleClick == null) return;\n      var time = _this.getTimeFromRowClickEvent(e);\n      var groupId = (0, _generic._get)(_this.props.groups[rowIndex], _this.props.keys.groupIdKey);\n      _this.props.onCanvasDoubleClick(groupId, time, e);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleScrollContextMenu\", function (e, rowIndex) {\n      if (_this.props.onCanvasContextMenu == null) return;\n      var timePosition = _this.getTimeFromRowClickEvent(e);\n      var groupId = (0, _generic._get)(_this.props.groups[rowIndex], _this.props.keys.groupIdKey);\n      if (_this.props.onCanvasContextMenu) {\n        e.preventDefault();\n        _this.props.onCanvasContextMenu(groupId, timePosition, e);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleHeaderRef\", function (el) {\n      _this.scrollHeaderRef = el;\n      _this.props.headerRef(el);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"isTimelineHeader\", function (child) {\n      if (child.type === undefined) return false;\n      return child.type.secretKey === _TimelineHeaders[\"default\"].secretKey;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"renderHeaders\", function () {\n      if (_this.props.children) {\n        var headerRenderer;\n        _react[\"default\"].Children.map(_this.props.children, function (child) {\n          if (_this.isTimelineHeader(child)) {\n            headerRenderer = child;\n          }\n        });\n        if (headerRenderer) {\n          return headerRenderer;\n        }\n      }\n      return _react[\"default\"].createElement(_TimelineHeaders[\"default\"], null, _react[\"default\"].createElement(_DateHeader[\"default\"], {\n        unit: \"primaryHeader\"\n      }), _react[\"default\"].createElement(_DateHeader[\"default\"], null));\n    });\n    _defineProperty(_assertThisInitialized(_this), \"getScrollElementRef\", function (el) {\n      _this.props.scrollRef(el);\n      _this.scrollComponent = el;\n    });\n    _this.getSelected = _this.getSelected.bind(_assertThisInitialized(_this));\n    _this.hasSelectedItem = _this.hasSelectedItem.bind(_assertThisInitialized(_this));\n    _this.isItemSelected = _this.isItemSelected.bind(_assertThisInitialized(_this));\n    var _visibleTimeStart = null;\n    var _visibleTimeEnd = null;\n    if (_this.props.defaultTimeStart && _this.props.defaultTimeEnd) {\n      _visibleTimeStart = _this.props.defaultTimeStart.valueOf();\n      _visibleTimeEnd = _this.props.defaultTimeEnd.valueOf();\n    } else if (_this.props.visibleTimeStart && _this.props.visibleTimeEnd) {\n      _visibleTimeStart = _this.props.visibleTimeStart;\n      _visibleTimeEnd = _this.props.visibleTimeEnd;\n    } else {\n      //throwing an error because neither default or visible time props provided\n      throw new Error('You must provide either \"defaultTimeStart\" and \"defaultTimeEnd\" or \"visibleTimeStart\" and \"visibleTimeEnd\" to initialize the Timeline');\n    }\n    var _getCanvasBoundariesF = (0, _calendar.getCanvasBoundariesFromVisibleTime)(_visibleTimeStart, _visibleTimeEnd, _props.buffer),\n      _getCanvasBoundariesF2 = _slicedToArray(_getCanvasBoundariesF, 2),\n      _canvasTimeStart = _getCanvasBoundariesF2[0],\n      _canvasTimeEnd = _getCanvasBoundariesF2[1];\n    _this.state = {\n      width: 1000,\n      visibleTimeStart: _visibleTimeStart,\n      visibleTimeEnd: _visibleTimeEnd,\n      canvasTimeStart: _canvasTimeStart,\n      canvasTimeEnd: _canvasTimeEnd,\n      selectedItem: null,\n      dragTime: null,\n      dragGroupTitle: null,\n      resizeTime: null,\n      resizingItem: null,\n      resizingEdge: null\n    };\n    var _canvasWidth = (0, _calendar.getCanvasWidth)(_this.state.width, _props.buffer);\n    var _stackTimelineItems2 = (0, _calendar.stackTimelineItems)(_props.items, _props.groups, _canvasWidth, _this.state.canvasTimeStart, _this.state.canvasTimeEnd, _props.keys, _props.lineHeight, _props.itemHeightRatio, _props.stackItems, _this.state.draggingItem, _this.state.resizingItem, _this.state.dragTime, _this.state.resizingEdge, _this.state.resizeTime, _this.state.newGroupOrder),\n      _dimensionItems = _stackTimelineItems2.dimensionItems,\n      _height = _stackTimelineItems2.height,\n      _groupHeights = _stackTimelineItems2.groupHeights,\n      _groupTops = _stackTimelineItems2.groupTops;\n    /* eslint-disable react/no-direct-mutation-state */\n\n    _this.state.dimensionItems = _dimensionItems;\n    _this.state.height = _height;\n    _this.state.groupHeights = _groupHeights;\n    _this.state.groupTops = _groupTops;\n    /* eslint-enable */\n\n    return _this;\n  }\n  _createClass(ReactCalendarTimeline, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.resize(this.props);\n      if (this.props.resizeDetector && this.props.resizeDetector.addListener) {\n        this.props.resizeDetector.addListener(this);\n      }\n      _window[\"default\"].addListener(this);\n      this.lastTouchDistance = null;\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.props.resizeDetector && this.props.resizeDetector.addListener) {\n        this.props.resizeDetector.removeListener(this);\n      }\n      _window[\"default\"].removeListener(this);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      var newZoom = this.state.visibleTimeEnd - this.state.visibleTimeStart;\n      var oldZoom = prevState.visibleTimeEnd - prevState.visibleTimeStart; // are we changing zoom? Report it!\n\n      if (this.props.onZoom && newZoom !== oldZoom) {\n        this.props.onZoom(this.getTimelineContext(), this.getTimelineUnit());\n      } // The bounds have changed? Report it!\n\n      if (this.props.onBoundsChange && this.state.canvasTimeStart !== prevState.canvasTimeStart) {\n        this.props.onBoundsChange(this.state.canvasTimeStart, this.state.canvasTimeStart + newZoom * 3);\n      } // Check the scroll is correct\n\n      var scrollLeft = Math.round(this.state.width * (this.state.visibleTimeStart - this.state.canvasTimeStart) / newZoom);\n      var componentScrollLeft = Math.round(prevState.width * (prevState.visibleTimeStart - prevState.canvasTimeStart) / oldZoom);\n      if (componentScrollLeft !== scrollLeft) {\n        this.scrollComponent.scrollLeft = scrollLeft;\n        this.scrollHeaderRef.scrollLeft = scrollLeft;\n      }\n    }\n  }, {\n    key: \"columns\",\n    value: function columns(canvasTimeStart, canvasTimeEnd, canvasWidth, minUnit, timeSteps, height) {\n      return _react[\"default\"].createElement(_Columns[\"default\"], {\n        canvasTimeStart: canvasTimeStart,\n        canvasTimeEnd: canvasTimeEnd,\n        canvasWidth: canvasWidth,\n        lineCount: (0, _generic._length)(this.props.groups),\n        minUnit: minUnit,\n        timeSteps: timeSteps,\n        height: height,\n        verticalLineClassNamesForTime: this.props.verticalLineClassNamesForTime\n      });\n    }\n  }, {\n    key: \"rows\",\n    value: function rows(canvasWidth, groupHeights, groups) {\n      return _react[\"default\"].createElement(_GroupRows[\"default\"], {\n        groups: groups,\n        canvasWidth: canvasWidth,\n        lineCount: (0, _generic._length)(this.props.groups),\n        groupHeights: groupHeights,\n        clickTolerance: this.props.clickTolerance,\n        onRowClick: this.handleRowClick,\n        onRowDoubleClick: this.handleRowDoubleClick,\n        horizontalLineClassNamesForGroup: this.props.horizontalLineClassNamesForGroup,\n        onRowContextClick: this.handleScrollContextMenu\n      });\n    }\n  }, {\n    key: \"items\",\n    value: function items(canvasTimeStart, zoom, canvasTimeEnd, canvasWidth, minUnit, dimensionItems, groupHeights, groupTops) {\n      return _react[\"default\"].createElement(_Items[\"default\"], {\n        canvasTimeStart: canvasTimeStart,\n        canvasTimeEnd: canvasTimeEnd,\n        canvasWidth: canvasWidth,\n        dimensionItems: dimensionItems,\n        groupTops: groupTops,\n        items: this.props.items,\n        groups: this.props.groups,\n        keys: this.props.keys,\n        selectedItem: this.state.selectedItem,\n        dragSnap: this.props.dragSnap,\n        minResizeWidth: this.props.minResizeWidth,\n        canChangeGroup: this.props.canChangeGroup,\n        canMove: this.props.canMove,\n        canResize: this.props.canResize,\n        useResizeHandle: this.props.useResizeHandle,\n        canSelect: this.props.canSelect,\n        moveResizeValidator: this.props.moveResizeValidator,\n        itemSelect: this.selectItem,\n        itemDrag: this.dragItem,\n        itemDrop: this.dropItem,\n        onItemDoubleClick: this.doubleClickItem,\n        onItemContextMenu: this.props.onItemContextMenu ? this.contextMenuClickItem : undefined,\n        itemResizing: this.resizingItem,\n        itemResized: this.resizedItem,\n        itemRenderer: this.props.itemRenderer,\n        selected: this.props.selected,\n        scrollRef: this.scrollComponent\n      });\n    }\n  }, {\n    key: \"sidebar\",\n    value: function sidebar(height, groupHeights) {\n      var sidebarWidth = this.props.sidebarWidth;\n      return sidebarWidth && _react[\"default\"].createElement(_Sidebar[\"default\"], {\n        groups: this.props.groups,\n        groupRenderer: this.props.groupRenderer,\n        keys: this.props.keys,\n        width: sidebarWidth,\n        groupHeights: groupHeights,\n        height: height\n      });\n    }\n  }, {\n    key: \"rightSidebar\",\n    value: function rightSidebar(height, groupHeights) {\n      var rightSidebarWidth = this.props.rightSidebarWidth;\n      return rightSidebarWidth && _react[\"default\"].createElement(_Sidebar[\"default\"], {\n        groups: this.props.groups,\n        keys: this.props.keys,\n        groupRenderer: this.props.groupRenderer,\n        isRightSidebar: true,\n        width: rightSidebarWidth,\n        groupHeights: groupHeights,\n        height: height\n      });\n    }\n    /**\n     * check if child of type TimelineHeader\n     * refer to for explanation https://github.com/gaearon/react-hot-loader#checking-element-types\n     */\n  }, {\n    key: \"childrenWithProps\",\n    value: function childrenWithProps(canvasTimeStart, canvasTimeEnd, canvasWidth, dimensionItems, groupHeights, groupTops, height, visibleTimeStart, visibleTimeEnd, minUnit, timeSteps) {\n      var _this3 = this;\n      if (!this.props.children) {\n        return null;\n      } // convert to an array and remove the nulls\n\n      var childArray = Array.isArray(this.props.children) ? this.props.children.filter(function (c) {\n        return c;\n      }) : [this.props.children];\n      var childProps = {\n        canvasTimeStart: canvasTimeStart,\n        canvasTimeEnd: canvasTimeEnd,\n        canvasWidth: canvasWidth,\n        visibleTimeStart: visibleTimeStart,\n        visibleTimeEnd: visibleTimeEnd,\n        dimensionItems: dimensionItems,\n        items: this.props.items,\n        groups: this.props.groups,\n        keys: this.props.keys,\n        groupHeights: groupHeights,\n        groupTops: groupTops,\n        selected: this.getSelected(),\n        height: height,\n        minUnit: minUnit,\n        timeSteps: timeSteps\n      };\n      return _react[\"default\"].Children.map(childArray, function (child) {\n        if (!_this3.isTimelineHeader(child)) {\n          return _react[\"default\"].cloneElement(child, childProps);\n        } else {\n          return null;\n        }\n      });\n    }\n  }, {\n    key: \"getSelected\",\n    value: function getSelected() {\n      return this.state.selectedItem && !this.props.selected ? [this.state.selectedItem] : this.props.selected || [];\n    }\n  }, {\n    key: \"hasSelectedItem\",\n    value: function hasSelectedItem() {\n      if (!Array.isArray(this.props.selected)) return !!this.state.selectedItem;\n      return this.props.selected.length > 0;\n    }\n  }, {\n    key: \"isItemSelected\",\n    value: function isItemSelected(itemId) {\n      var selectedItems = this.getSelected();\n      return selectedItems.some(function (i) {\n        return i === itemId;\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n      var _this$props3 = this.props,\n        items = _this$props3.items,\n        groups = _this$props3.groups,\n        sidebarWidth = _this$props3.sidebarWidth,\n        rightSidebarWidth = _this$props3.rightSidebarWidth,\n        timeSteps = _this$props3.timeSteps,\n        traditionalZoom = _this$props3.traditionalZoom,\n        buffer = _this$props3.buffer;\n      var _this$state5 = this.state,\n        draggingItem = _this$state5.draggingItem,\n        resizingItem = _this$state5.resizingItem,\n        width = _this$state5.width,\n        visibleTimeStart = _this$state5.visibleTimeStart,\n        visibleTimeEnd = _this$state5.visibleTimeEnd,\n        canvasTimeStart = _this$state5.canvasTimeStart,\n        canvasTimeEnd = _this$state5.canvasTimeEnd;\n      var _this$state6 = this.state,\n        dimensionItems = _this$state6.dimensionItems,\n        height = _this$state6.height,\n        groupHeights = _this$state6.groupHeights,\n        groupTops = _this$state6.groupTops;\n      var zoom = visibleTimeEnd - visibleTimeStart;\n      var canvasWidth = (0, _calendar.getCanvasWidth)(width, buffer);\n      var minUnit = (0, _calendar.getMinUnit)(zoom, width, timeSteps);\n      var isInteractingWithItem = !!draggingItem || !!resizingItem;\n      if (isInteractingWithItem) {\n        var stackResults = (0, _calendar.stackTimelineItems)(items, groups, canvasWidth, this.state.canvasTimeStart, this.state.canvasTimeEnd, this.props.keys, this.props.lineHeight, this.props.itemHeightRatio, this.props.stackItems, this.state.draggingItem, this.state.resizingItem, this.state.dragTime, this.state.resizingEdge, this.state.resizeTime, this.state.newGroupOrder);\n        dimensionItems = stackResults.dimensionItems;\n        height = stackResults.height;\n        groupHeights = stackResults.groupHeights;\n        groupTops = stackResults.groupTops;\n      }\n      var outerComponentStyle = {\n        height: \"\".concat(height, \"px\")\n      };\n      return _react[\"default\"].createElement(_TimelineStateContext.TimelineStateProvider, {\n        visibleTimeStart: visibleTimeStart,\n        visibleTimeEnd: visibleTimeEnd,\n        canvasTimeStart: canvasTimeStart,\n        canvasTimeEnd: canvasTimeEnd,\n        canvasWidth: canvasWidth,\n        showPeriod: this.showPeriod,\n        timelineUnit: minUnit,\n        timelineWidth: this.state.width\n      }, _react[\"default\"].createElement(_TimelineMarkersContext.TimelineMarkersProvider, null, _react[\"default\"].createElement(_HeadersContext.TimelineHeadersProvider, {\n        registerScroll: this.handleHeaderRef,\n        timeSteps: timeSteps,\n        leftSidebarWidth: this.props.sidebarWidth,\n        rightSidebarWidth: this.props.rightSidebarWidth\n      }, _react[\"default\"].createElement(\"div\", {\n        style: this.props.style,\n        ref: function ref(el) {\n          return _this4.container = el;\n        },\n        className: \"react-calendar-timeline \".concat(this.props.className)\n      }, this.renderHeaders(), _react[\"default\"].createElement(\"div\", {\n        style: outerComponentStyle,\n        className: \"rct-outer\"\n      }, sidebarWidth > 0 ? this.sidebar(height, groupHeights) : null, _react[\"default\"].createElement(_ScrollElement[\"default\"], {\n        scrollRef: this.getScrollElementRef,\n        width: width,\n        height: height,\n        onZoom: this.changeZoom,\n        onWheelZoom: this.handleWheelZoom,\n        traditionalZoom: traditionalZoom,\n        onScroll: this.onScroll,\n        isInteractingWithItem: isInteractingWithItem\n      }, _react[\"default\"].createElement(_MarkerCanvas[\"default\"], null, this.columns(canvasTimeStart, canvasTimeEnd, canvasWidth, minUnit, timeSteps, height), this.rows(canvasWidth, groupHeights, groups), this.items(canvasTimeStart, zoom, canvasTimeEnd, canvasWidth, minUnit, dimensionItems, groupHeights, groupTops), this.childrenWithProps(canvasTimeStart, canvasTimeEnd, canvasWidth, dimensionItems, groupHeights, groupTops, height, visibleTimeStart, visibleTimeEnd, minUnit, timeSteps))), rightSidebarWidth > 0 ? this.rightSidebar(height, groupHeights) : null)))));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      var visibleTimeStart = nextProps.visibleTimeStart,\n        visibleTimeEnd = nextProps.visibleTimeEnd,\n        items = nextProps.items,\n        groups = nextProps.groups; // This is a gross hack pushing items and groups in to state only to allow\n      // For the forceUpdate check\n\n      var derivedState = {\n        items: items,\n        groups: groups // if the items or groups have changed we must re-render\n      };\n      var forceUpdate = items !== prevState.items || groups !== prevState.groups; // We are a controlled component\n\n      if (visibleTimeStart && visibleTimeEnd) {\n        // Get the new canvas position\n        Object.assign(derivedState, (0, _calendar.calculateScrollCanvas)(visibleTimeStart, visibleTimeEnd, forceUpdate, items, groups, nextProps, prevState));\n      } else if (forceUpdate) {\n        // Calculate new item stack position as canvas may have changed\n        var canvasWidth = (0, _calendar.getCanvasWidth)(prevState.width, nextProps.buffer);\n        Object.assign(derivedState, (0, _calendar.stackTimelineItems)(items, groups, canvasWidth, prevState.canvasTimeStart, prevState.canvasTimeEnd, nextProps.keys, nextProps.lineHeight, nextProps.itemHeightRatio, nextProps.stackItems, prevState.draggingItem, prevState.resizingItem, prevState.dragTime, prevState.resizingEdge, prevState.resizeTime, prevState.newGroupOrder));\n      }\n      return derivedState;\n    }\n  }]);\n  return ReactCalendarTimeline;\n}(_react.Component);\nexports[\"default\"] = ReactCalendarTimeline;\n_defineProperty(ReactCalendarTimeline, \"propTypes\", {\n  groups: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].array, _propTypes[\"default\"].object]).isRequired,\n  items: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].array, _propTypes[\"default\"].object]).isRequired,\n  sidebarWidth: _propTypes[\"default\"].number,\n  rightSidebarWidth: _propTypes[\"default\"].number,\n  dragSnap: _propTypes[\"default\"].number,\n  minResizeWidth: _propTypes[\"default\"].number,\n  lineHeight: _propTypes[\"default\"].number,\n  itemHeightRatio: _propTypes[\"default\"].number,\n  minZoom: _propTypes[\"default\"].number,\n  maxZoom: _propTypes[\"default\"].number,\n  buffer: _propTypes[\"default\"].number,\n  clickTolerance: _propTypes[\"default\"].number,\n  canChangeGroup: _propTypes[\"default\"].bool,\n  canMove: _propTypes[\"default\"].bool,\n  canResize: _propTypes[\"default\"].oneOf([true, false, 'left', 'right', 'both']),\n  useResizeHandle: _propTypes[\"default\"].bool,\n  canSelect: _propTypes[\"default\"].bool,\n  stackItems: _propTypes[\"default\"].bool,\n  traditionalZoom: _propTypes[\"default\"].bool,\n  itemTouchSendsClick: _propTypes[\"default\"].bool,\n  horizontalLineClassNamesForGroup: _propTypes[\"default\"].func,\n  onItemMove: _propTypes[\"default\"].func,\n  onItemResize: _propTypes[\"default\"].func,\n  onItemClick: _propTypes[\"default\"].func,\n  onItemSelect: _propTypes[\"default\"].func,\n  onItemDeselect: _propTypes[\"default\"].func,\n  onCanvasClick: _propTypes[\"default\"].func,\n  onItemDoubleClick: _propTypes[\"default\"].func,\n  onItemContextMenu: _propTypes[\"default\"].func,\n  onCanvasDoubleClick: _propTypes[\"default\"].func,\n  onCanvasContextMenu: _propTypes[\"default\"].func,\n  onZoom: _propTypes[\"default\"].func,\n  onItemDrag: _propTypes[\"default\"].func,\n  moveResizeValidator: _propTypes[\"default\"].func,\n  itemRenderer: _propTypes[\"default\"].func,\n  groupRenderer: _propTypes[\"default\"].func,\n  className: _propTypes[\"default\"].string,\n  style: _propTypes[\"default\"].object,\n  keys: _propTypes[\"default\"].shape({\n    groupIdKey: _propTypes[\"default\"].string,\n    groupTitleKey: _propTypes[\"default\"].string,\n    groupLabelKey: _propTypes[\"default\"].string,\n    groupRightTitleKey: _propTypes[\"default\"].string,\n    itemIdKey: _propTypes[\"default\"].string,\n    itemTitleKey: _propTypes[\"default\"].string,\n    itemDivTitleKey: _propTypes[\"default\"].string,\n    itemGroupKey: _propTypes[\"default\"].string,\n    itemTimeStartKey: _propTypes[\"default\"].string,\n    itemTimeEndKey: _propTypes[\"default\"].string\n  }),\n  headerRef: _propTypes[\"default\"].func,\n  scrollRef: _propTypes[\"default\"].func,\n  timeSteps: _propTypes[\"default\"].shape({\n    second: _propTypes[\"default\"].number,\n    minute: _propTypes[\"default\"].number,\n    hour: _propTypes[\"default\"].number,\n    day: _propTypes[\"default\"].number,\n    month: _propTypes[\"default\"].number,\n    year: _propTypes[\"default\"].number\n  }),\n  defaultTimeStart: _propTypes[\"default\"].object,\n  defaultTimeEnd: _propTypes[\"default\"].object,\n  visibleTimeStart: _propTypes[\"default\"].number,\n  visibleTimeEnd: _propTypes[\"default\"].number,\n  onTimeChange: _propTypes[\"default\"].func,\n  onBoundsChange: _propTypes[\"default\"].func,\n  selected: _propTypes[\"default\"].array,\n  resizeDetector: _propTypes[\"default\"].shape({\n    addListener: _propTypes[\"default\"].func,\n    removeListener: _propTypes[\"default\"].func\n  }),\n  verticalLineClassNamesForTime: _propTypes[\"default\"].func,\n  children: _propTypes[\"default\"].node\n});\n_defineProperty(ReactCalendarTimeline, \"defaultProps\", {\n  sidebarWidth: 150,\n  rightSidebarWidth: 0,\n  dragSnap: 1000 * 60 * 15,\n  // 15min\n  minResizeWidth: 20,\n  lineHeight: 30,\n  itemHeightRatio: 0.65,\n  buffer: 3,\n  minZoom: 60 * 60 * 1000,\n  // 1 hour\n  maxZoom: 5 * 365.24 * 86400 * 1000,\n  // 5 years\n  clickTolerance: 3,\n  // how many pixels can we drag for it to be still considered a click?\n  canChangeGroup: true,\n  canMove: true,\n  canResize: 'right',\n  useResizeHandle: false,\n  canSelect: true,\n  stackItems: false,\n  traditionalZoom: false,\n  horizontalLineClassNamesForGroup: null,\n  onItemMove: null,\n  onItemResize: null,\n  onItemClick: null,\n  onItemSelect: null,\n  onItemDeselect: null,\n  onItemDrag: null,\n  onCanvasClick: null,\n  onItemDoubleClick: null,\n  onItemContextMenu: null,\n  onZoom: null,\n  verticalLineClassNamesForTime: null,\n  moveResizeValidator: null,\n  dayBackground: null,\n  defaultTimeStart: null,\n  defaultTimeEnd: null,\n  itemTouchSendsClick: false,\n  style: {},\n  className: '',\n  keys: _defaultConfig.defaultKeys,\n  timeSteps: _defaultConfig.defaultTimeSteps,\n  headerRef: function headerRef() {},\n  scrollRef: function scrollRef() {},\n  // if you pass in visibleTimeStart and visibleTimeEnd, you must also pass onTimeChange(visibleTimeStart, visibleTimeEnd),\n  // which needs to update the props visibleTimeStart and visibleTimeEnd to the ones passed\n  visibleTimeStart: null,\n  visibleTimeEnd: null,\n  onTimeChange: function onTimeChange(visibleTimeStart, visibleTimeEnd, updateScrollCanvas) {\n    updateScrollCanvas(visibleTimeStart, visibleTimeEnd);\n  },\n  // called when the canvas area of the calendar changes\n  onBoundsChange: null,\n  children: null,\n  selected: null\n});\n_defineProperty(ReactCalendarTimeline, \"childContextTypes\", {\n  getTimelineContext: _propTypes[\"default\"].func\n});","map":{"version":3,"names":["Object","defineProperty","exports","value","_propTypes","_interopRequireDefault","require","_react","_interopRequireWildcard","_Items","_Sidebar","_Columns","_GroupRows","_ScrollElement","_MarkerCanvas","_window","_calendar","_generic","_defaultConfig","_TimelineStateContext","_TimelineMarkersContext","_HeadersContext","_TimelineHeaders","_DateHeader","obj","__esModule","newObj","key","prototype","hasOwnProperty","call","desc","getOwnPropertyDescriptor","get","set","_typeof","Symbol","iterator","constructor","_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","TypeError","_arr","_n","_d","_e","undefined","_i","_s","next","done","push","length","err","Array","isArray","_classCallCheck","instance","Constructor","_possibleConstructorReturn","self","_assertThisInitialized","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","ReferenceError","_defineProperties","target","props","descriptor","enumerable","configurable","writable","_createClass","protoProps","staticProps","_inherits","subClass","superClass","create","_setPrototypeOf","p","_defineProperty","ReactCalendarTimeline","_Component","getChildContext","_this2","getTimelineContext","_props","_this","_this$state","state","width","visibleTimeStart","visibleTimeEnd","canvasTimeStart","canvasTimeEnd","timelineWidth","_this$state2","timeSteps","zoom","minUnit","getMinUnit","arguments","_this$container$getBo","container","getBoundingClientRect","containerWidth","sidebarWidth","rightSidebarWidth","canvasWidth","getCanvasWidth","buffer","_stackTimelineItems","stackTimelineItems","items","groups","keys","lineHeight","itemHeightRatio","stackItems","draggingItem","resizingItem","dragTime","resizingEdge","resizeTime","newGroupOrder","dimensionItems","height","groupHeights","groupTops","setState","scrollLeft","scrollComponent","scrollHeaderRef","scrollX","onTimeChange","updateScrollCanvas","getTimelineUnit","forceUpdateDimensions","calculateScrollCanvas","speed","xPosition","deltaY","changeZoom","scale","offset","_this$props","minZoom","maxZoom","oldZoom","newZoom","Math","min","max","round","newVisibleTimeStart","from","to","valueOf","item","clickType","e","isItemSelected","itemTouchSendsClick","onItemClick","time","timeFromItemEvent","selectedItem","onItemSelect","_time","onItemDeselect","onItemDoubleClick","onItemContextMenu","_this$props2","dragSnap","_this$state3","offsetX","nativeEvent","calculateTimeForXPosition","floor","_this$state4","_scrollComponent$getB","left","xRelativeToTimeline","clientX","relativeItemPosition","timeOffset","newGroup","dragGroupTitle","_get","groupLabelKey","updatingItem","eventType","itemId","onItemMove","edge","timeDelta","onItemResize","_ref","onItemDrag","rowIndex","hasSelectedItem","selectItem","onCanvasClick","getTimeFromRowClickEvent","groupId","groupIdKey","onCanvasDoubleClick","onCanvasContextMenu","timePosition","preventDefault","el","headerRef","child","type","secretKey","children","headerRenderer","Children","map","isTimelineHeader","createElement","unit","scrollRef","getSelected","bind","_visibleTimeStart","_visibleTimeEnd","defaultTimeStart","defaultTimeEnd","Error","_getCanvasBoundariesF","getCanvasBoundariesFromVisibleTime","_getCanvasBoundariesF2","_canvasTimeStart","_canvasTimeEnd","_canvasWidth","_stackTimelineItems2","_dimensionItems","_height","_groupHeights","_groupTops","componentDidMount","resize","resizeDetector","addListener","lastTouchDistance","componentWillUnmount","removeListener","componentDidUpdate","prevProps","prevState","onZoom","onBoundsChange","componentScrollLeft","columns","lineCount","_length","verticalLineClassNamesForTime","rows","clickTolerance","onRowClick","handleRowClick","onRowDoubleClick","handleRowDoubleClick","horizontalLineClassNamesForGroup","onRowContextClick","handleScrollContextMenu","minResizeWidth","canChangeGroup","canMove","canResize","useResizeHandle","canSelect","moveResizeValidator","itemSelect","itemDrag","dragItem","itemDrop","dropItem","doubleClickItem","contextMenuClickItem","itemResizing","itemResized","resizedItem","itemRenderer","selected","sidebar","groupRenderer","rightSidebar","isRightSidebar","childrenWithProps","_this3","childArray","filter","c","childProps","cloneElement","selectedItems","some","render","_this4","_this$props3","traditionalZoom","_this$state5","_this$state6","isInteractingWithItem","stackResults","outerComponentStyle","concat","TimelineStateProvider","showPeriod","timelineUnit","TimelineMarkersProvider","TimelineHeadersProvider","registerScroll","handleHeaderRef","leftSidebarWidth","style","ref","className","renderHeaders","getScrollElementRef","onWheelZoom","handleWheelZoom","onScroll","getDerivedStateFromProps","nextProps","derivedState","forceUpdate","assign","Component","oneOfType","array","object","isRequired","number","bool","oneOf","func","string","shape","groupTitleKey","groupRightTitleKey","itemIdKey","itemTitleKey","itemDivTitleKey","itemGroupKey","itemTimeStartKey","itemTimeEndKey","second","minute","hour","day","month","year","node","dayBackground","defaultKeys","defaultTimeSteps"],"sources":["/Users/ethan/WebstormProjects/frontend/node_modules/react-calendar-timeline/lib/lib/Timeline.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _Items = _interopRequireDefault(require(\"./items/Items\"));\n\nvar _Sidebar = _interopRequireDefault(require(\"./layout/Sidebar\"));\n\nvar _Columns = _interopRequireDefault(require(\"./columns/Columns\"));\n\nvar _GroupRows = _interopRequireDefault(require(\"./row/GroupRows\"));\n\nvar _ScrollElement = _interopRequireDefault(require(\"./scroll/ScrollElement\"));\n\nvar _MarkerCanvas = _interopRequireDefault(require(\"./markers/MarkerCanvas\"));\n\nvar _window = _interopRequireDefault(require(\"../resize-detector/window\"));\n\nvar _calendar = require(\"./utility/calendar\");\n\nvar _generic = require(\"./utility/generic\");\n\nvar _defaultConfig = require(\"./default-config\");\n\nvar _TimelineStateContext = require(\"./timeline/TimelineStateContext\");\n\nvar _TimelineMarkersContext = require(\"./markers/TimelineMarkersContext\");\n\nvar _HeadersContext = require(\"./headers/HeadersContext\");\n\nvar _TimelineHeaders = _interopRequireDefault(require(\"./headers/TimelineHeaders\"));\n\nvar _DateHeader = _interopRequireDefault(require(\"./headers/DateHeader\"));\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj[\"default\"] = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar ReactCalendarTimeline =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ReactCalendarTimeline, _Component);\n\n  _createClass(ReactCalendarTimeline, [{\n    key: \"getChildContext\",\n    value: function getChildContext() {\n      var _this2 = this;\n\n      return {\n        getTimelineContext: function getTimelineContext() {\n          return _this2.getTimelineContext();\n        }\n      };\n    }\n  }]);\n\n  function ReactCalendarTimeline(_props) {\n    var _this;\n\n    _classCallCheck(this, ReactCalendarTimeline);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ReactCalendarTimeline).call(this, _props));\n\n    _defineProperty(_assertThisInitialized(_this), \"getTimelineContext\", function () {\n      var _this$state = _this.state,\n          width = _this$state.width,\n          visibleTimeStart = _this$state.visibleTimeStart,\n          visibleTimeEnd = _this$state.visibleTimeEnd,\n          canvasTimeStart = _this$state.canvasTimeStart,\n          canvasTimeEnd = _this$state.canvasTimeEnd;\n      return {\n        timelineWidth: width,\n        visibleTimeStart: visibleTimeStart,\n        visibleTimeEnd: visibleTimeEnd,\n        canvasTimeStart: canvasTimeStart,\n        canvasTimeEnd: canvasTimeEnd\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getTimelineUnit\", function () {\n      var _this$state2 = _this.state,\n          width = _this$state2.width,\n          visibleTimeStart = _this$state2.visibleTimeStart,\n          visibleTimeEnd = _this$state2.visibleTimeEnd;\n      var timeSteps = _this.props.timeSteps;\n      var zoom = visibleTimeEnd - visibleTimeStart;\n      var minUnit = (0, _calendar.getMinUnit)(zoom, width, timeSteps);\n      return minUnit;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"resize\", function () {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.props;\n\n      var _this$container$getBo = _this.container.getBoundingClientRect(),\n          containerWidth = _this$container$getBo.width;\n\n      var width = containerWidth - props.sidebarWidth - props.rightSidebarWidth;\n      var canvasWidth = (0, _calendar.getCanvasWidth)(width, props.buffer);\n\n      var _stackTimelineItems = (0, _calendar.stackTimelineItems)(props.items, props.groups, canvasWidth, _this.state.canvasTimeStart, _this.state.canvasTimeEnd, props.keys, props.lineHeight, props.itemHeightRatio, props.stackItems, _this.state.draggingItem, _this.state.resizingItem, _this.state.dragTime, _this.state.resizingEdge, _this.state.resizeTime, _this.state.newGroupOrder),\n          dimensionItems = _stackTimelineItems.dimensionItems,\n          height = _stackTimelineItems.height,\n          groupHeights = _stackTimelineItems.groupHeights,\n          groupTops = _stackTimelineItems.groupTops; // this is needed by dragItem since it uses pageY from the drag events\n      // if this was in the context of the scrollElement, this would not be necessary\n\n\n      _this.setState({\n        width: width,\n        dimensionItems: dimensionItems,\n        height: height,\n        groupHeights: groupHeights,\n        groupTops: groupTops\n      }); //initial scroll left is the buffer - 1 (1 is visible area) divided by 2 (2 is the buffer split on the right and left of the timeline)\n\n\n      var scrollLeft = width * ((props.buffer - 1) / 2);\n      _this.scrollComponent.scrollLeft = scrollLeft;\n      _this.scrollHeaderRef.scrollLeft = scrollLeft;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onScroll\", function (scrollX) {\n      var width = _this.state.width;\n      var canvasTimeStart = _this.state.canvasTimeStart;\n      var zoom = _this.state.visibleTimeEnd - _this.state.visibleTimeStart;\n      var visibleTimeStart = canvasTimeStart + zoom * scrollX / width;\n\n      if (_this.state.visibleTimeStart !== visibleTimeStart || _this.state.visibleTimeEnd !== visibleTimeStart + zoom) {\n        _this.props.onTimeChange(visibleTimeStart, visibleTimeStart + zoom, _this.updateScrollCanvas, _this.getTimelineUnit());\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateScrollCanvas\", function (visibleTimeStart, visibleTimeEnd, forceUpdateDimensions) {\n      var items = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : _this.props.items;\n      var groups = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : _this.props.groups;\n\n      _this.setState((0, _calendar.calculateScrollCanvas)(visibleTimeStart, visibleTimeEnd, forceUpdateDimensions, items, groups, _this.props, _this.state));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleWheelZoom\", function (speed, xPosition, deltaY) {\n      _this.changeZoom(1.0 + speed * deltaY / 500, xPosition / _this.state.width);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"changeZoom\", function (scale) {\n      var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0.5;\n      var _this$props = _this.props,\n          minZoom = _this$props.minZoom,\n          maxZoom = _this$props.maxZoom;\n      var oldZoom = _this.state.visibleTimeEnd - _this.state.visibleTimeStart;\n      var newZoom = Math.min(Math.max(Math.round(oldZoom * scale), minZoom), maxZoom); // min 1 min, max 20 years\n\n      var newVisibleTimeStart = Math.round(_this.state.visibleTimeStart + (oldZoom - newZoom) * offset);\n\n      _this.props.onTimeChange(newVisibleTimeStart, newVisibleTimeStart + newZoom, _this.updateScrollCanvas, _this.getTimelineUnit());\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"showPeriod\", function (from, to) {\n      var visibleTimeStart = from.valueOf();\n      var visibleTimeEnd = to.valueOf();\n      var zoom = visibleTimeEnd - visibleTimeStart; // can't zoom in more than to show one hour\n\n      if (zoom < _this.props.minZoom) {\n        return;\n      }\n\n      _this.props.onTimeChange(visibleTimeStart, visibleTimeStart + zoom, _this.updateScrollCanvas, _this.getTimelineUnit());\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"selectItem\", function (item, clickType, e) {\n      if (_this.isItemSelected(item) || _this.props.itemTouchSendsClick && clickType === 'touch') {\n        if (item && _this.props.onItemClick) {\n          var time = _this.timeFromItemEvent(e);\n\n          _this.props.onItemClick(item, e, time);\n        }\n      } else {\n        _this.setState({\n          selectedItem: item\n        });\n\n        if (item && _this.props.onItemSelect) {\n          var _time = _this.timeFromItemEvent(e);\n\n          _this.props.onItemSelect(item, e, _time);\n        } else if (item === null && _this.props.onItemDeselect) {\n          _this.props.onItemDeselect(e); // this isnt in the docs. Is this function even used?\n\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"doubleClickItem\", function (item, e) {\n      if (_this.props.onItemDoubleClick) {\n        var time = _this.timeFromItemEvent(e);\n\n        _this.props.onItemDoubleClick(item, e, time);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"contextMenuClickItem\", function (item, e) {\n      if (_this.props.onItemContextMenu) {\n        var time = _this.timeFromItemEvent(e);\n\n        _this.props.onItemContextMenu(item, e, time);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getTimeFromRowClickEvent\", function (e) {\n      var _this$props2 = _this.props,\n          dragSnap = _this$props2.dragSnap,\n          buffer = _this$props2.buffer;\n      var _this$state3 = _this.state,\n          width = _this$state3.width,\n          canvasTimeStart = _this$state3.canvasTimeStart,\n          canvasTimeEnd = _this$state3.canvasTimeEnd; // this gives us distance from left of row element, so event is in\n      // context of the row element, not client or page\n\n      var offsetX = e.nativeEvent.offsetX;\n      var time = (0, _calendar.calculateTimeForXPosition)(canvasTimeStart, canvasTimeEnd, (0, _calendar.getCanvasWidth)(width, buffer), offsetX);\n      time = Math.floor(time / dragSnap) * dragSnap;\n      return time;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"timeFromItemEvent\", function (e) {\n      var _this$state4 = _this.state,\n          width = _this$state4.width,\n          visibleTimeStart = _this$state4.visibleTimeStart,\n          visibleTimeEnd = _this$state4.visibleTimeEnd;\n      var dragSnap = _this.props.dragSnap;\n      var scrollComponent = _this.scrollComponent;\n\n      var _scrollComponent$getB = scrollComponent.getBoundingClientRect(),\n          scrollX = _scrollComponent$getB.left;\n\n      var xRelativeToTimeline = e.clientX - scrollX;\n      var relativeItemPosition = xRelativeToTimeline / width;\n      var zoom = visibleTimeEnd - visibleTimeStart;\n      var timeOffset = relativeItemPosition * zoom;\n      var time = Math.round(visibleTimeStart + timeOffset);\n      time = Math.floor(time / dragSnap) * dragSnap;\n      return time;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"dragItem\", function (item, dragTime, newGroupOrder) {\n      var newGroup = _this.props.groups[newGroupOrder];\n      var keys = _this.props.keys;\n\n      _this.setState({\n        draggingItem: item,\n        dragTime: dragTime,\n        newGroupOrder: newGroupOrder,\n        dragGroupTitle: newGroup ? (0, _generic._get)(newGroup, keys.groupLabelKey) : ''\n      });\n\n      _this.updatingItem({\n        eventType: 'move',\n        itemId: item,\n        time: dragTime,\n        newGroupOrder: newGroupOrder\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"dropItem\", function (item, dragTime, newGroupOrder) {\n      _this.setState({\n        draggingItem: null,\n        dragTime: null,\n        dragGroupTitle: null\n      });\n\n      if (_this.props.onItemMove) {\n        _this.props.onItemMove(item, dragTime, newGroupOrder);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"resizingItem\", function (item, resizeTime, edge) {\n      _this.setState({\n        resizingItem: item,\n        resizingEdge: edge,\n        resizeTime: resizeTime\n      });\n\n      _this.updatingItem({\n        eventType: 'resize',\n        itemId: item,\n        time: resizeTime,\n        edge: edge\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"resizedItem\", function (item, resizeTime, edge, timeDelta) {\n      _this.setState({\n        resizingItem: null,\n        resizingEdge: null,\n        resizeTime: null\n      });\n\n      if (_this.props.onItemResize && timeDelta !== 0) {\n        _this.props.onItemResize(item, resizeTime, edge);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updatingItem\", function (_ref) {\n      var eventType = _ref.eventType,\n          itemId = _ref.itemId,\n          time = _ref.time,\n          edge = _ref.edge,\n          newGroupOrder = _ref.newGroupOrder;\n\n      if (_this.props.onItemDrag) {\n        _this.props.onItemDrag({\n          eventType: eventType,\n          itemId: itemId,\n          time: time,\n          edge: edge,\n          newGroupOrder: newGroupOrder\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleRowClick\", function (e, rowIndex) {\n      // shouldnt this be handled by the user, as far as when to deselect an item?\n      if (_this.hasSelectedItem()) {\n        _this.selectItem(null);\n      }\n\n      if (_this.props.onCanvasClick == null) return;\n\n      var time = _this.getTimeFromRowClickEvent(e);\n\n      var groupId = (0, _generic._get)(_this.props.groups[rowIndex], _this.props.keys.groupIdKey);\n\n      _this.props.onCanvasClick(groupId, time, e);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleRowDoubleClick\", function (e, rowIndex) {\n      if (_this.props.onCanvasDoubleClick == null) return;\n\n      var time = _this.getTimeFromRowClickEvent(e);\n\n      var groupId = (0, _generic._get)(_this.props.groups[rowIndex], _this.props.keys.groupIdKey);\n\n      _this.props.onCanvasDoubleClick(groupId, time, e);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleScrollContextMenu\", function (e, rowIndex) {\n      if (_this.props.onCanvasContextMenu == null) return;\n\n      var timePosition = _this.getTimeFromRowClickEvent(e);\n\n      var groupId = (0, _generic._get)(_this.props.groups[rowIndex], _this.props.keys.groupIdKey);\n\n      if (_this.props.onCanvasContextMenu) {\n        e.preventDefault();\n\n        _this.props.onCanvasContextMenu(groupId, timePosition, e);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleHeaderRef\", function (el) {\n      _this.scrollHeaderRef = el;\n\n      _this.props.headerRef(el);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"isTimelineHeader\", function (child) {\n      if (child.type === undefined) return false;\n      return child.type.secretKey === _TimelineHeaders[\"default\"].secretKey;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderHeaders\", function () {\n      if (_this.props.children) {\n        var headerRenderer;\n\n        _react[\"default\"].Children.map(_this.props.children, function (child) {\n          if (_this.isTimelineHeader(child)) {\n            headerRenderer = child;\n          }\n        });\n\n        if (headerRenderer) {\n          return headerRenderer;\n        }\n      }\n\n      return _react[\"default\"].createElement(_TimelineHeaders[\"default\"], null, _react[\"default\"].createElement(_DateHeader[\"default\"], {\n        unit: \"primaryHeader\"\n      }), _react[\"default\"].createElement(_DateHeader[\"default\"], null));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getScrollElementRef\", function (el) {\n      _this.props.scrollRef(el);\n\n      _this.scrollComponent = el;\n    });\n\n    _this.getSelected = _this.getSelected.bind(_assertThisInitialized(_this));\n    _this.hasSelectedItem = _this.hasSelectedItem.bind(_assertThisInitialized(_this));\n    _this.isItemSelected = _this.isItemSelected.bind(_assertThisInitialized(_this));\n    var _visibleTimeStart = null;\n    var _visibleTimeEnd = null;\n\n    if (_this.props.defaultTimeStart && _this.props.defaultTimeEnd) {\n      _visibleTimeStart = _this.props.defaultTimeStart.valueOf();\n      _visibleTimeEnd = _this.props.defaultTimeEnd.valueOf();\n    } else if (_this.props.visibleTimeStart && _this.props.visibleTimeEnd) {\n      _visibleTimeStart = _this.props.visibleTimeStart;\n      _visibleTimeEnd = _this.props.visibleTimeEnd;\n    } else {\n      //throwing an error because neither default or visible time props provided\n      throw new Error('You must provide either \"defaultTimeStart\" and \"defaultTimeEnd\" or \"visibleTimeStart\" and \"visibleTimeEnd\" to initialize the Timeline');\n    }\n\n    var _getCanvasBoundariesF = (0, _calendar.getCanvasBoundariesFromVisibleTime)(_visibleTimeStart, _visibleTimeEnd, _props.buffer),\n        _getCanvasBoundariesF2 = _slicedToArray(_getCanvasBoundariesF, 2),\n        _canvasTimeStart = _getCanvasBoundariesF2[0],\n        _canvasTimeEnd = _getCanvasBoundariesF2[1];\n\n    _this.state = {\n      width: 1000,\n      visibleTimeStart: _visibleTimeStart,\n      visibleTimeEnd: _visibleTimeEnd,\n      canvasTimeStart: _canvasTimeStart,\n      canvasTimeEnd: _canvasTimeEnd,\n      selectedItem: null,\n      dragTime: null,\n      dragGroupTitle: null,\n      resizeTime: null,\n      resizingItem: null,\n      resizingEdge: null\n    };\n\n    var _canvasWidth = (0, _calendar.getCanvasWidth)(_this.state.width, _props.buffer);\n\n    var _stackTimelineItems2 = (0, _calendar.stackTimelineItems)(_props.items, _props.groups, _canvasWidth, _this.state.canvasTimeStart, _this.state.canvasTimeEnd, _props.keys, _props.lineHeight, _props.itemHeightRatio, _props.stackItems, _this.state.draggingItem, _this.state.resizingItem, _this.state.dragTime, _this.state.resizingEdge, _this.state.resizeTime, _this.state.newGroupOrder),\n        _dimensionItems = _stackTimelineItems2.dimensionItems,\n        _height = _stackTimelineItems2.height,\n        _groupHeights = _stackTimelineItems2.groupHeights,\n        _groupTops = _stackTimelineItems2.groupTops;\n    /* eslint-disable react/no-direct-mutation-state */\n\n\n    _this.state.dimensionItems = _dimensionItems;\n    _this.state.height = _height;\n    _this.state.groupHeights = _groupHeights;\n    _this.state.groupTops = _groupTops;\n    /* eslint-enable */\n\n    return _this;\n  }\n\n  _createClass(ReactCalendarTimeline, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.resize(this.props);\n\n      if (this.props.resizeDetector && this.props.resizeDetector.addListener) {\n        this.props.resizeDetector.addListener(this);\n      }\n\n      _window[\"default\"].addListener(this);\n\n      this.lastTouchDistance = null;\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.props.resizeDetector && this.props.resizeDetector.addListener) {\n        this.props.resizeDetector.removeListener(this);\n      }\n\n      _window[\"default\"].removeListener(this);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      var newZoom = this.state.visibleTimeEnd - this.state.visibleTimeStart;\n      var oldZoom = prevState.visibleTimeEnd - prevState.visibleTimeStart; // are we changing zoom? Report it!\n\n      if (this.props.onZoom && newZoom !== oldZoom) {\n        this.props.onZoom(this.getTimelineContext(), this.getTimelineUnit());\n      } // The bounds have changed? Report it!\n\n\n      if (this.props.onBoundsChange && this.state.canvasTimeStart !== prevState.canvasTimeStart) {\n        this.props.onBoundsChange(this.state.canvasTimeStart, this.state.canvasTimeStart + newZoom * 3);\n      } // Check the scroll is correct\n\n\n      var scrollLeft = Math.round(this.state.width * (this.state.visibleTimeStart - this.state.canvasTimeStart) / newZoom);\n      var componentScrollLeft = Math.round(prevState.width * (prevState.visibleTimeStart - prevState.canvasTimeStart) / oldZoom);\n\n      if (componentScrollLeft !== scrollLeft) {\n        this.scrollComponent.scrollLeft = scrollLeft;\n        this.scrollHeaderRef.scrollLeft = scrollLeft;\n      }\n    }\n  }, {\n    key: \"columns\",\n    value: function columns(canvasTimeStart, canvasTimeEnd, canvasWidth, minUnit, timeSteps, height) {\n      return _react[\"default\"].createElement(_Columns[\"default\"], {\n        canvasTimeStart: canvasTimeStart,\n        canvasTimeEnd: canvasTimeEnd,\n        canvasWidth: canvasWidth,\n        lineCount: (0, _generic._length)(this.props.groups),\n        minUnit: minUnit,\n        timeSteps: timeSteps,\n        height: height,\n        verticalLineClassNamesForTime: this.props.verticalLineClassNamesForTime\n      });\n    }\n  }, {\n    key: \"rows\",\n    value: function rows(canvasWidth, groupHeights, groups) {\n      return _react[\"default\"].createElement(_GroupRows[\"default\"], {\n        groups: groups,\n        canvasWidth: canvasWidth,\n        lineCount: (0, _generic._length)(this.props.groups),\n        groupHeights: groupHeights,\n        clickTolerance: this.props.clickTolerance,\n        onRowClick: this.handleRowClick,\n        onRowDoubleClick: this.handleRowDoubleClick,\n        horizontalLineClassNamesForGroup: this.props.horizontalLineClassNamesForGroup,\n        onRowContextClick: this.handleScrollContextMenu\n      });\n    }\n  }, {\n    key: \"items\",\n    value: function items(canvasTimeStart, zoom, canvasTimeEnd, canvasWidth, minUnit, dimensionItems, groupHeights, groupTops) {\n      return _react[\"default\"].createElement(_Items[\"default\"], {\n        canvasTimeStart: canvasTimeStart,\n        canvasTimeEnd: canvasTimeEnd,\n        canvasWidth: canvasWidth,\n        dimensionItems: dimensionItems,\n        groupTops: groupTops,\n        items: this.props.items,\n        groups: this.props.groups,\n        keys: this.props.keys,\n        selectedItem: this.state.selectedItem,\n        dragSnap: this.props.dragSnap,\n        minResizeWidth: this.props.minResizeWidth,\n        canChangeGroup: this.props.canChangeGroup,\n        canMove: this.props.canMove,\n        canResize: this.props.canResize,\n        useResizeHandle: this.props.useResizeHandle,\n        canSelect: this.props.canSelect,\n        moveResizeValidator: this.props.moveResizeValidator,\n        itemSelect: this.selectItem,\n        itemDrag: this.dragItem,\n        itemDrop: this.dropItem,\n        onItemDoubleClick: this.doubleClickItem,\n        onItemContextMenu: this.props.onItemContextMenu ? this.contextMenuClickItem : undefined,\n        itemResizing: this.resizingItem,\n        itemResized: this.resizedItem,\n        itemRenderer: this.props.itemRenderer,\n        selected: this.props.selected,\n        scrollRef: this.scrollComponent\n      });\n    }\n  }, {\n    key: \"sidebar\",\n    value: function sidebar(height, groupHeights) {\n      var sidebarWidth = this.props.sidebarWidth;\n      return sidebarWidth && _react[\"default\"].createElement(_Sidebar[\"default\"], {\n        groups: this.props.groups,\n        groupRenderer: this.props.groupRenderer,\n        keys: this.props.keys,\n        width: sidebarWidth,\n        groupHeights: groupHeights,\n        height: height\n      });\n    }\n  }, {\n    key: \"rightSidebar\",\n    value: function rightSidebar(height, groupHeights) {\n      var rightSidebarWidth = this.props.rightSidebarWidth;\n      return rightSidebarWidth && _react[\"default\"].createElement(_Sidebar[\"default\"], {\n        groups: this.props.groups,\n        keys: this.props.keys,\n        groupRenderer: this.props.groupRenderer,\n        isRightSidebar: true,\n        width: rightSidebarWidth,\n        groupHeights: groupHeights,\n        height: height\n      });\n    }\n    /**\n     * check if child of type TimelineHeader\n     * refer to for explanation https://github.com/gaearon/react-hot-loader#checking-element-types\n     */\n\n  }, {\n    key: \"childrenWithProps\",\n    value: function childrenWithProps(canvasTimeStart, canvasTimeEnd, canvasWidth, dimensionItems, groupHeights, groupTops, height, visibleTimeStart, visibleTimeEnd, minUnit, timeSteps) {\n      var _this3 = this;\n\n      if (!this.props.children) {\n        return null;\n      } // convert to an array and remove the nulls\n\n\n      var childArray = Array.isArray(this.props.children) ? this.props.children.filter(function (c) {\n        return c;\n      }) : [this.props.children];\n      var childProps = {\n        canvasTimeStart: canvasTimeStart,\n        canvasTimeEnd: canvasTimeEnd,\n        canvasWidth: canvasWidth,\n        visibleTimeStart: visibleTimeStart,\n        visibleTimeEnd: visibleTimeEnd,\n        dimensionItems: dimensionItems,\n        items: this.props.items,\n        groups: this.props.groups,\n        keys: this.props.keys,\n        groupHeights: groupHeights,\n        groupTops: groupTops,\n        selected: this.getSelected(),\n        height: height,\n        minUnit: minUnit,\n        timeSteps: timeSteps\n      };\n      return _react[\"default\"].Children.map(childArray, function (child) {\n        if (!_this3.isTimelineHeader(child)) {\n          return _react[\"default\"].cloneElement(child, childProps);\n        } else {\n          return null;\n        }\n      });\n    }\n  }, {\n    key: \"getSelected\",\n    value: function getSelected() {\n      return this.state.selectedItem && !this.props.selected ? [this.state.selectedItem] : this.props.selected || [];\n    }\n  }, {\n    key: \"hasSelectedItem\",\n    value: function hasSelectedItem() {\n      if (!Array.isArray(this.props.selected)) return !!this.state.selectedItem;\n      return this.props.selected.length > 0;\n    }\n  }, {\n    key: \"isItemSelected\",\n    value: function isItemSelected(itemId) {\n      var selectedItems = this.getSelected();\n      return selectedItems.some(function (i) {\n        return i === itemId;\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var _this$props3 = this.props,\n          items = _this$props3.items,\n          groups = _this$props3.groups,\n          sidebarWidth = _this$props3.sidebarWidth,\n          rightSidebarWidth = _this$props3.rightSidebarWidth,\n          timeSteps = _this$props3.timeSteps,\n          traditionalZoom = _this$props3.traditionalZoom,\n          buffer = _this$props3.buffer;\n      var _this$state5 = this.state,\n          draggingItem = _this$state5.draggingItem,\n          resizingItem = _this$state5.resizingItem,\n          width = _this$state5.width,\n          visibleTimeStart = _this$state5.visibleTimeStart,\n          visibleTimeEnd = _this$state5.visibleTimeEnd,\n          canvasTimeStart = _this$state5.canvasTimeStart,\n          canvasTimeEnd = _this$state5.canvasTimeEnd;\n      var _this$state6 = this.state,\n          dimensionItems = _this$state6.dimensionItems,\n          height = _this$state6.height,\n          groupHeights = _this$state6.groupHeights,\n          groupTops = _this$state6.groupTops;\n      var zoom = visibleTimeEnd - visibleTimeStart;\n      var canvasWidth = (0, _calendar.getCanvasWidth)(width, buffer);\n      var minUnit = (0, _calendar.getMinUnit)(zoom, width, timeSteps);\n      var isInteractingWithItem = !!draggingItem || !!resizingItem;\n\n      if (isInteractingWithItem) {\n        var stackResults = (0, _calendar.stackTimelineItems)(items, groups, canvasWidth, this.state.canvasTimeStart, this.state.canvasTimeEnd, this.props.keys, this.props.lineHeight, this.props.itemHeightRatio, this.props.stackItems, this.state.draggingItem, this.state.resizingItem, this.state.dragTime, this.state.resizingEdge, this.state.resizeTime, this.state.newGroupOrder);\n        dimensionItems = stackResults.dimensionItems;\n        height = stackResults.height;\n        groupHeights = stackResults.groupHeights;\n        groupTops = stackResults.groupTops;\n      }\n\n      var outerComponentStyle = {\n        height: \"\".concat(height, \"px\")\n      };\n      return _react[\"default\"].createElement(_TimelineStateContext.TimelineStateProvider, {\n        visibleTimeStart: visibleTimeStart,\n        visibleTimeEnd: visibleTimeEnd,\n        canvasTimeStart: canvasTimeStart,\n        canvasTimeEnd: canvasTimeEnd,\n        canvasWidth: canvasWidth,\n        showPeriod: this.showPeriod,\n        timelineUnit: minUnit,\n        timelineWidth: this.state.width\n      }, _react[\"default\"].createElement(_TimelineMarkersContext.TimelineMarkersProvider, null, _react[\"default\"].createElement(_HeadersContext.TimelineHeadersProvider, {\n        registerScroll: this.handleHeaderRef,\n        timeSteps: timeSteps,\n        leftSidebarWidth: this.props.sidebarWidth,\n        rightSidebarWidth: this.props.rightSidebarWidth\n      }, _react[\"default\"].createElement(\"div\", {\n        style: this.props.style,\n        ref: function ref(el) {\n          return _this4.container = el;\n        },\n        className: \"react-calendar-timeline \".concat(this.props.className)\n      }, this.renderHeaders(), _react[\"default\"].createElement(\"div\", {\n        style: outerComponentStyle,\n        className: \"rct-outer\"\n      }, sidebarWidth > 0 ? this.sidebar(height, groupHeights) : null, _react[\"default\"].createElement(_ScrollElement[\"default\"], {\n        scrollRef: this.getScrollElementRef,\n        width: width,\n        height: height,\n        onZoom: this.changeZoom,\n        onWheelZoom: this.handleWheelZoom,\n        traditionalZoom: traditionalZoom,\n        onScroll: this.onScroll,\n        isInteractingWithItem: isInteractingWithItem\n      }, _react[\"default\"].createElement(_MarkerCanvas[\"default\"], null, this.columns(canvasTimeStart, canvasTimeEnd, canvasWidth, minUnit, timeSteps, height), this.rows(canvasWidth, groupHeights, groups), this.items(canvasTimeStart, zoom, canvasTimeEnd, canvasWidth, minUnit, dimensionItems, groupHeights, groupTops), this.childrenWithProps(canvasTimeStart, canvasTimeEnd, canvasWidth, dimensionItems, groupHeights, groupTops, height, visibleTimeStart, visibleTimeEnd, minUnit, timeSteps))), rightSidebarWidth > 0 ? this.rightSidebar(height, groupHeights) : null)))));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      var visibleTimeStart = nextProps.visibleTimeStart,\n          visibleTimeEnd = nextProps.visibleTimeEnd,\n          items = nextProps.items,\n          groups = nextProps.groups; // This is a gross hack pushing items and groups in to state only to allow\n      // For the forceUpdate check\n\n      var derivedState = {\n        items: items,\n        groups: groups // if the items or groups have changed we must re-render\n\n      };\n      var forceUpdate = items !== prevState.items || groups !== prevState.groups; // We are a controlled component\n\n      if (visibleTimeStart && visibleTimeEnd) {\n        // Get the new canvas position\n        Object.assign(derivedState, (0, _calendar.calculateScrollCanvas)(visibleTimeStart, visibleTimeEnd, forceUpdate, items, groups, nextProps, prevState));\n      } else if (forceUpdate) {\n        // Calculate new item stack position as canvas may have changed\n        var canvasWidth = (0, _calendar.getCanvasWidth)(prevState.width, nextProps.buffer);\n        Object.assign(derivedState, (0, _calendar.stackTimelineItems)(items, groups, canvasWidth, prevState.canvasTimeStart, prevState.canvasTimeEnd, nextProps.keys, nextProps.lineHeight, nextProps.itemHeightRatio, nextProps.stackItems, prevState.draggingItem, prevState.resizingItem, prevState.dragTime, prevState.resizingEdge, prevState.resizeTime, prevState.newGroupOrder));\n      }\n\n      return derivedState;\n    }\n  }]);\n\n  return ReactCalendarTimeline;\n}(_react.Component);\n\nexports[\"default\"] = ReactCalendarTimeline;\n\n_defineProperty(ReactCalendarTimeline, \"propTypes\", {\n  groups: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].array, _propTypes[\"default\"].object]).isRequired,\n  items: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].array, _propTypes[\"default\"].object]).isRequired,\n  sidebarWidth: _propTypes[\"default\"].number,\n  rightSidebarWidth: _propTypes[\"default\"].number,\n  dragSnap: _propTypes[\"default\"].number,\n  minResizeWidth: _propTypes[\"default\"].number,\n  lineHeight: _propTypes[\"default\"].number,\n  itemHeightRatio: _propTypes[\"default\"].number,\n  minZoom: _propTypes[\"default\"].number,\n  maxZoom: _propTypes[\"default\"].number,\n  buffer: _propTypes[\"default\"].number,\n  clickTolerance: _propTypes[\"default\"].number,\n  canChangeGroup: _propTypes[\"default\"].bool,\n  canMove: _propTypes[\"default\"].bool,\n  canResize: _propTypes[\"default\"].oneOf([true, false, 'left', 'right', 'both']),\n  useResizeHandle: _propTypes[\"default\"].bool,\n  canSelect: _propTypes[\"default\"].bool,\n  stackItems: _propTypes[\"default\"].bool,\n  traditionalZoom: _propTypes[\"default\"].bool,\n  itemTouchSendsClick: _propTypes[\"default\"].bool,\n  horizontalLineClassNamesForGroup: _propTypes[\"default\"].func,\n  onItemMove: _propTypes[\"default\"].func,\n  onItemResize: _propTypes[\"default\"].func,\n  onItemClick: _propTypes[\"default\"].func,\n  onItemSelect: _propTypes[\"default\"].func,\n  onItemDeselect: _propTypes[\"default\"].func,\n  onCanvasClick: _propTypes[\"default\"].func,\n  onItemDoubleClick: _propTypes[\"default\"].func,\n  onItemContextMenu: _propTypes[\"default\"].func,\n  onCanvasDoubleClick: _propTypes[\"default\"].func,\n  onCanvasContextMenu: _propTypes[\"default\"].func,\n  onZoom: _propTypes[\"default\"].func,\n  onItemDrag: _propTypes[\"default\"].func,\n  moveResizeValidator: _propTypes[\"default\"].func,\n  itemRenderer: _propTypes[\"default\"].func,\n  groupRenderer: _propTypes[\"default\"].func,\n  className: _propTypes[\"default\"].string,\n  style: _propTypes[\"default\"].object,\n  keys: _propTypes[\"default\"].shape({\n    groupIdKey: _propTypes[\"default\"].string,\n    groupTitleKey: _propTypes[\"default\"].string,\n    groupLabelKey: _propTypes[\"default\"].string,\n    groupRightTitleKey: _propTypes[\"default\"].string,\n    itemIdKey: _propTypes[\"default\"].string,\n    itemTitleKey: _propTypes[\"default\"].string,\n    itemDivTitleKey: _propTypes[\"default\"].string,\n    itemGroupKey: _propTypes[\"default\"].string,\n    itemTimeStartKey: _propTypes[\"default\"].string,\n    itemTimeEndKey: _propTypes[\"default\"].string\n  }),\n  headerRef: _propTypes[\"default\"].func,\n  scrollRef: _propTypes[\"default\"].func,\n  timeSteps: _propTypes[\"default\"].shape({\n    second: _propTypes[\"default\"].number,\n    minute: _propTypes[\"default\"].number,\n    hour: _propTypes[\"default\"].number,\n    day: _propTypes[\"default\"].number,\n    month: _propTypes[\"default\"].number,\n    year: _propTypes[\"default\"].number\n  }),\n  defaultTimeStart: _propTypes[\"default\"].object,\n  defaultTimeEnd: _propTypes[\"default\"].object,\n  visibleTimeStart: _propTypes[\"default\"].number,\n  visibleTimeEnd: _propTypes[\"default\"].number,\n  onTimeChange: _propTypes[\"default\"].func,\n  onBoundsChange: _propTypes[\"default\"].func,\n  selected: _propTypes[\"default\"].array,\n  resizeDetector: _propTypes[\"default\"].shape({\n    addListener: _propTypes[\"default\"].func,\n    removeListener: _propTypes[\"default\"].func\n  }),\n  verticalLineClassNamesForTime: _propTypes[\"default\"].func,\n  children: _propTypes[\"default\"].node\n});\n\n_defineProperty(ReactCalendarTimeline, \"defaultProps\", {\n  sidebarWidth: 150,\n  rightSidebarWidth: 0,\n  dragSnap: 1000 * 60 * 15,\n  // 15min\n  minResizeWidth: 20,\n  lineHeight: 30,\n  itemHeightRatio: 0.65,\n  buffer: 3,\n  minZoom: 60 * 60 * 1000,\n  // 1 hour\n  maxZoom: 5 * 365.24 * 86400 * 1000,\n  // 5 years\n  clickTolerance: 3,\n  // how many pixels can we drag for it to be still considered a click?\n  canChangeGroup: true,\n  canMove: true,\n  canResize: 'right',\n  useResizeHandle: false,\n  canSelect: true,\n  stackItems: false,\n  traditionalZoom: false,\n  horizontalLineClassNamesForGroup: null,\n  onItemMove: null,\n  onItemResize: null,\n  onItemClick: null,\n  onItemSelect: null,\n  onItemDeselect: null,\n  onItemDrag: null,\n  onCanvasClick: null,\n  onItemDoubleClick: null,\n  onItemContextMenu: null,\n  onZoom: null,\n  verticalLineClassNamesForTime: null,\n  moveResizeValidator: null,\n  dayBackground: null,\n  defaultTimeStart: null,\n  defaultTimeEnd: null,\n  itemTouchSendsClick: false,\n  style: {},\n  className: '',\n  keys: _defaultConfig.defaultKeys,\n  timeSteps: _defaultConfig.defaultTimeSteps,\n  headerRef: function headerRef() {},\n  scrollRef: function scrollRef() {},\n  // if you pass in visibleTimeStart and visibleTimeEnd, you must also pass onTimeChange(visibleTimeStart, visibleTimeEnd),\n  // which needs to update the props visibleTimeStart and visibleTimeEnd to the ones passed\n  visibleTimeStart: null,\n  visibleTimeEnd: null,\n  onTimeChange: function onTimeChange(visibleTimeStart, visibleTimeEnd, updateScrollCanvas) {\n    updateScrollCanvas(visibleTimeStart, visibleTimeEnd);\n  },\n  // called when the canvas area of the calendar changes\n  onBoundsChange: null,\n  children: null,\n  selected: null\n});\n\n_defineProperty(ReactCalendarTimeline, \"childContextTypes\", {\n  getTimelineContext: _propTypes[\"default\"].func\n});"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}